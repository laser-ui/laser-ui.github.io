import{r as i,u as j,b as k,j as a,m as T,I as S,p as w,e as $,f as N,q as F,s as A,i as I,k as P,T as E,l as z,c as L}from"./index-f0b62949.js";import{s as O}from"./scrollTo-73e70597.js";import{t as V}from"./toPx-4a6593eb.js";import{S as M}from"./add-6cd7e841.js";const D=c=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...c},i.createElement("path",{d:"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"})),U={fab:"^fab",fab__actions:"^fab__actions","fab__actions--top":"^fab__actions--top","fab__actions--right":"^fab__actions--right","fab__actions--bottom":"^fab__actions--bottom","fab__actions--left":"^fab__actions--left"},q={"fab-button":"^fab-button","fab-button.t-primary":"t-primary","fab-button.t-success":"t-success","fab-button.t-warning":"t-warning","fab-button.t-danger":"t-danger","fab-button.is-expand":"is-expand","fab-button.is-loading":"is-loading","fab-button--in-actions":"^fab-button--in-actions","fab-button--primary":"^fab-button--primary","fab-button--secondary":"^fab-button--secondary","fab-button--outline":"^fab-button--outline","fab-button--dashed":"^fab-button--dashed","fab-button--text":"^fab-button--text","fab-button--link":"^fab-button--link","fab-button--circle":"^fab-button--circle","fab-button--round":"^fab-button--round","fab-button__icon":"^fab-button__icon","fab-button__content":"^fab-button__content"},B=i.forwardRef((c,p)=>{const{children:m,styleOverrides:o,styleProvider:l,pattern:h="primary",theme:f="primary",loading:d=!1,shape:n,_expand:u=!1,_action:_=!1,...e}=j("FabButton",c),s=k(q,{"fab-button":l==null?void 0:l["fab-button"]},o);return a.jsxs("button",{...e,...T(s("fab-button",`fab-button.t-${f}`,`fab-button--${h}`,{"fab-button.is-expand":u,"fab-button.is-loading":d,"fab-button--in-actions":_,[`fab-button--${n}`]:n}),{className:e.className,style:e.style}),ref:p,type:e.type??"button",children:[a.jsx(S,{...s("fab-button__icon"),children:a.jsx(M,{})}),a.jsx("div",{...s("fab-button__content"),children:d?a.jsx(S,{children:a.jsx(w,{})}):m})]})});function G(c){const{children:p,page:m,distance:o=400,scrollBehavior:l="instant",...h}=j("FabBacktop",c),{pageScrollRef:f,contentResizeRef:d}=$(),n=N(m??(()=>f.current)),u=i.useRef({}),[_,e]=i.useState(!1),s={enter:{opacity:0},entering:{transition:["opacity"].map(t=>`${t} ${E}ms linear`).join(", ")},leaving:{opacity:0,transition:["opacity"].map(t=>`${t} ${E}ms linear`).join(", ")},leaved:{display:"none"}},r=()=>{if(n.current){const t=z.isString(o)?V(o,!0):o;e(Math.ceil(n.current.scrollTop)>=t)}};F(()=>{r()},[]),A(n,"scroll",r,{passive:!0}),I(d,r);const b=a.jsx(B,{...h,children:p??a.jsx(S,{children:a.jsx(D,{})})});return a.jsx(P,{enter:_,during:E,children:t=>i.cloneElement(b,{style:{...b.props.style,...s[t]},onClick:v=>{var g,x,y,C;(x=(g=b.props).onClick)==null||x.call(g,v),n.current&&((C=(y=u.current).clearTid)==null||C.call(y),u.current.clearTid=O(n.current,{top:0,behavior:l}))}})})}const R=c=>{const{children:p,styleOverrides:m,styleProvider:o,expand:l,defaultExpand:h,list:f,onExpandChange:d,...n}=j("Fab",c),u=k(U,{fab:o==null?void 0:o.fab},m),[_,e]=L(h??!1,l,d);return a.jsxs("div",{...n,...T(u("fab"),{className:n.className,style:n.style}),children:[i.cloneElement(p,{_expand:_,onClick:s=>{var r,b;(b=(r=p.props).onClick)==null||b.call(r,s),f&&e(t=>!t)}}),_&&f&&f.map(({placement:s,actions:r},b)=>a.jsx("div",{...u("fab__actions",`fab__actions--${s}`),children:i.Children.map(r,(t,v)=>i.cloneElement(t,{_action:!0,style:{...t.props.style,animationDelay:`${v*33}ms`},onClick:g=>{var x,y;(y=(x=t.props).onClick)==null||y.call(x,g),e(!1)}}))},b))]})};R.Button=B;R.Backtop=G;export{R as F};
