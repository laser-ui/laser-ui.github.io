import{u as g,b as N,r as x,g as S,l as n,j as i,m as p}from"./index-b2e0fbe2.js";import{t as $}from"./toPx-3d971024.js";const _={avatar:"^avatar","avatar--img":"^avatar--img","avatar--icon":"^avatar--icon","avatar--text":"^avatar--text","avatar--circle":"^avatar--circle","avatar--square":"^avatar--square",avatar__img:"^avatar__img"};function A(h){const{styleOverrides:f,styleProvider:c,shape:d="circle",img:a,icon:l,text:u,size:t=40,...o}=g("Avatar",h),v=N(_,{avatar:c==null?void 0:c.avatar},f),r=x.useRef(null),[y,E]=x.useState(!1),s=a&&!y?"img":l?"icon":u?"text":"img";return S(()=>{if(r.current){const e=Math.sqrt(Math.pow((n.isNumber(t)?t:$(t,!0))/2,2)-Math.pow(r.current.scrollHeight/2,2))*2;r.current.scrollWidth>e?r.current.style.transform=`scale(${e/r.current.scrollWidth})`:r.current.style.transform=""}}),i.jsx("div",{...o,...p(v("avatar",`avatar--${s}`,`avatar--${d}`),{className:o.className,style:{...o.style,width:t,height:t,fontSize:s==="icon"?`calc((${t}${n.isNumber(t)?"px":""} / 2) * 1.25)`:s==="text"?`calc(${t}${n.isNumber(t)?"px":""} / 2)`:void 0}}),children:s==="img"?i.jsx("img",{...a,...p(v("avatar__img"),{className:a==null?void 0:a.className,style:a==null?void 0:a.style}),onError:e=>{var m;(m=a==null?void 0:a.onError)==null||m.call(a,e),E(!0)}}):s==="icon"?l:i.jsx("div",{ref:e=>(r.current=e,()=>{r.current=null}),children:u})})}export{A};
