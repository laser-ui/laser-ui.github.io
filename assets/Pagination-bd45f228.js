import{u as B,b as G,w as J,r as D,c as k,j as i,m as Q,I as v,F as U,l as E}from"./index-2a8bb1b1.js";import{S as W}from"./keyboard_arrow_left-bd361635.js";import{S as X,a as Y}from"./keyboard_double_arrow_right-71d63832.js";import{S as $}from"./Route-ccc680b8.js";import{S as Z}from"./Select-36bf0d99.js";import{I as ii}from"./Input-df2aee95.js";function A(S,P=!1){return{tabIndex:P?-1:0,role:"button","aria-disabled":P,onKeyDown:u=>{(u.code==="Enter"||u.code==="Space")&&(u.preventDefault(),S())},onClick:S}}const ni={pagination:"^pagination","pagination--mini":"^pagination--mini",pagination__row:"^pagination__row",pagination__jump:"^pagination__jump",pagination__button:"^pagination__button","pagination__button.is-active":"is-active","pagination__button.is-disabled":"is-disabled","pagination__button--border":"^pagination__button--border","pagination__button--number":"^pagination__button--number","pagination__button--jump5":"^pagination__button--jump5","pagination__jump5-icon":"^pagination__jump5-icon",pagination__ellipsis:"^pagination__ellipsis"};function pi(S){const{styleOverrides:P,styleProvider:u,total:f,active:L,defaultActive:C,pageSize:O,defaultPageSize:F,pageSizeList:R=[10,20,50,100],compose:I=["pages"],customRender:n,mini:j=!1,onChange:x,...w}=B("Pagination",S),s=G(ni,{pagination:u==null?void 0:u.pagination},P),{t:l}=J(),y=D.useRef(null),[o,H]=k(C??1,L),g=r=>{const c=Math.max(Math.min(r,p),1);H(c),Object.is(c,o)||x==null||x(c,h)},[h,T]=k(F??R[0],O),V=r=>{T(r);const c=Math.max(Math.ceil(f/r),1),d=Math.max(Math.min(o,c),1);(!Object.is(d,o)||!Object.is(r,h))&&(x==null||x(d,r))},[M,q]=D.useState(null),p=Math.max(Math.ceil(f/h),1);return i.jsx("nav",{...w,...Q(s("pagination",{"pagination--mini":j}),{className:w.className,style:w.style}),ref:r=>(y.current=r,()=>{y.current=null}),role:"navigation","aria-label":w["aria-label"]??"Pagination Navigation",children:i.jsx("div",{...s("pagination__row"),children:I.map((r,c)=>{const d=c===I.length-1?void 0:j?2:6;if(r==="total"){const _=(()=>{const e=[Math.min((o-1)*h+1,f),Math.min(o*h,f)];return n&&n.total?n.total(e):`${l("Pagination","Total")} ${f} ${l("Pagination","items")}`})();return i.jsx("div",{children:i.jsx("div",{style:{paddingRight:d},children:_})},"total")}if(r==="pages"){const[_,e,m]=[i.jsx("li",{...s("pagination__button",{"pagination__button.is-disabled":o===1,"pagination__button--border":!(n&&n.prev)}),...A(()=>{g(o-1)},o===1),title:l("Pagination","Previous page"),children:n&&n.prev?n.prev:i.jsx(v,{children:i.jsx(W,{})})}),t=>n&&n.page?n.page(t):i.jsx("div",{children:t}),i.jsx("li",{...s("pagination__button",{"pagination__button.is-disabled":o===p,"pagination__button--border":!(n&&n.next)}),...A(()=>{g(o+1)},o===p),title:l("Pagination","Next page"),children:n&&n.next?n.next:i.jsx(v,{children:i.jsx(U,{})})})];let a=[];if(p<=7)a=Array.from({length:p}).map((t,b)=>b+1);else{for(let t=-3;t<=3;t++)a.push(o+t);a[0]<1&&(a=a.map(t=>t+(1-a[0]))),a[6]>p&&(a=a.map(t=>t-(a[6]-p))),a[0]>1&&(a[0]=1,a[1]="prev5"),a[6]<p&&(a[6]=p,a[5]="next5")}return i.jsxs(D.Fragment,{children:[i.jsx("div",{children:_}),a.map(t=>t==="prev5"?i.jsx("div",{children:i.jsxs("li",{...s("pagination__button","pagination__button--jump5"),...A(()=>{g(o-5)}),title:l("Pagination","5 pages forward"),children:[i.jsx(v,{...s("pagination__jump5-icon"),children:i.jsx(X,{})}),i.jsx("div",{...s("pagination__ellipsis"),children:i.jsx(v,{children:i.jsx($,{})})})]})},"prev5"):t==="next5"?i.jsx("div",{children:i.jsxs("li",{...s("pagination__button","pagination__button--jump5"),...A(()=>{g(o+5)}),title:l("Pagination","5 pages backward"),children:[i.jsx(v,{...s("pagination__jump5-icon"),children:i.jsx(Y,{})}),i.jsx("div",{...s("pagination__ellipsis"),children:i.jsx(v,{children:i.jsx($,{})})})]})},"next5"):i.jsx("div",{children:i.jsx("li",{...s("pagination__button","pagination__button--border","pagination__button--number",{"pagination__button.is-active":o===t}),tabIndex:0,"data-number":t,onClick:()=>{g(t)},onKeyDown:b=>{const z=K=>{if(y.current){const N=y.current.querySelector(`li[data-number="${K}"]`);N==null||N.focus({preventScroll:!0})}g(K)};switch(b.code){case"ArrowLeft":b.preventDefault(),z(t-1);break;case"ArrowRight":b.preventDefault(),z(t+1);break;case"Home":b.preventDefault(),z(1);break;case"End":b.preventDefault(),z(p);break}},children:e(t)})},t)),i.jsx("div",{children:i.jsx("div",{style:{paddingRight:d},children:m})})]},"pages")}if(r==="page-size"){const _=R.map(e=>({label:e.toString(),value:e}));return i.jsx("div",{children:i.jsx("div",{style:{paddingRight:d},children:i.jsx(Z,{list:_,model:h,size:j?"small":void 0,customItem:e=>n&&n.pageSize?n.pageSize(e.value):e.label,customSelected:(e,m)=>m?`${m.label}${l("Pagination"," / Page")}`:String(e),onModelChange:e=>{E.isNull(e)||V(e)}})})},"page-size")}if(r==="jump"){const _=(()=>{const e=i.jsx(ii.Number,{style:{width:j?48:72},model:M,max:p,min:1,step:1,size:j?"small":void 0,numberButton:!j,inputProps:{onKeyDown:m=>{m.code==="Enter"&&(m.preventDefault(),E.isNumber(M)&&g(M))}},onModelChange:q});return n&&n.jump?n.jump(e):i.jsxs("div",{...s("pagination__jump"),children:[i.jsx("span",{children:l("Pagination","Go")}),e,i.jsx("span",{children:l("Pagination","Page")})]})})();return i.jsx("div",{children:i.jsx("div",{style:{paddingRight:d},children:_})},"jump")}return null})})})}export{pi as P};
