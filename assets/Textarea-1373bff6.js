import{r as d,u as C,b as L,c as N,y as F,l as i,L as M,j as l,m as $}from"./index-09e3bc8e.js";import{u as P}from"./useForkRef-0909bece.js";const k={textarea:"^textarea","textarea--small":"^textarea--small","textarea--medium":"^textarea--medium","textarea--large":"^textarea--large",textarea__count:"^textarea__count"},O=d.forwardRef((m,f)=>{const{styleOverrides:w,styleProvider:x,formControl:n,model:p,defaultModel:y,autoRows:t=!1,resizable:R=!0,showCount:c=!1,size:T,onModelChange:b,...s}=C("Textarea",m),u=L(k,{textarea:x==null?void 0:x.textarea},w),g=d.useRef(null),H=P(g,f),[r,v]=N(y??"",p,b,void 0,n==null?void 0:n.control),{size:z,disabled:E}=F({size:T,disabled:s.disabled||(n==null?void 0:n.control.disabled)});d.useEffect(()=>{const e=g.current;if(e&&t!==!1){const a=e.style.cssText,_=e.rows;if(t===!0){e.style.cssText=a+"overflow:hidden;height:0px;min-height:unset;";const h=e.scrollHeight+(e.offsetHeight-e.clientHeight);e.style.cssText=a,e.style.height=h+"px"}else{e.style.cssText=a+"overflow:hidden;height:0px;padding:0px;min-height:unset;";const h=e.scrollHeight+(e.offsetHeight-e.clientHeight);e.rows=1,e.style.cssText=a+"overflow:hidden;padding:0px;height:unset;min-height:unset;";const j=e.clientHeight;let o=Math.round(h/j);i.isNumber(t.minRows)&&o<t.minRows&&(o=t.minRows),i.isNumber(t.maxRows)&&o>t.maxRows&&(o=t.maxRows),e.rows=o,e.style.cssText=a+"height:unset;min-height:unset;"}return()=>{e.style.cssText=a,e.rows=_}}});const S=M({form:n});return l.jsxs(l.Fragment,{children:[l.jsx("textarea",{...s,...$(u("textarea",`textarea--${z}`),{className:s.className,style:{...s.style,resize:R&&t===!1?void 0:"none"}}),...S,ref:H,value:r,disabled:E,onChange:e=>{var a;(a=s.onChange)==null||a.call(s,e),v(e.currentTarget.value)}}),c!==!1&&l.jsx("div",{...u("textarea__count"),children:i.isFunction(c)?c(r.length):i.isUndefined(s.maxLength)?r.length:`${r.length} / ${s.maxLength}`})]})});export{O as T};
