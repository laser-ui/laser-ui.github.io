import{r as j,u as Y,b as Z,o as oe,v as ee,z as le,f as ae,c as Q,l as _,x as ne,i as ce,L as te,j as n,m as B,U,I as N}from"./index-5f647438.js";import{u as ie}from"./useForkRef-9ace8645.js";import{S as ue}from"./cancel-9ab51dc9.js";import{S as pe}from"./visibility-63ce4d07.js";import{S as de}from"./keyboard_arrow_down-da68ba51.js";const fe=g=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...g},j.createElement("path",{d:"M12 6a9.77 9.77 0 0 1 8.82 5.5 9.647 9.647 0 0 1-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68A11.738 11.738 0 0 0 1 11.5C2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02a2.5 2.5 0 0 1-2.5-2.5c0-.05.01-.08.01-.13zm-3.4-3.4 1.75 1.75a4.6 4.6 0 0 0-.36 1.78 4.507 4.507 0 0 0 6.27 4.14l.98.98c-.88.24-1.8.38-2.75.38a9.77 9.77 0 0 1-8.82-5.5c.7-1.43 1.72-2.61 2.93-3.53z"})),me=g=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...g},j.createElement("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})),se={input:"^input","input.is-disabled":"is-disabled","input--small":"^input--small","input--medium":"^input--medium","input--large":"^input--large",input__prefix:"^input__prefix",input__input:"^input__input",input__clear:"^input__clear",input__password:"^input__password",input__suffix:"^input__suffix","input__number-container":"^input__number-container",input__number:"^input__number"};function be(g){const{styleOverrides:F,styleProvider:v,formControl:i,model:A,defaultModel:L,max:c,min:d,step:b=1,integer:y=!1,prefix:T,suffix:S,clearable:P,placeholder:O,size:K,numberButton:D=!0,disabled:V=!1,inputRef:$,inputRender:M,onModelChange:q,onClear:r,...u}=Y("InputNumber",g),p=Z(se,{input:v==null?void 0:v.input},F),w=oe(),{t:R}=ee(),I=le(),o=j.useRef({inputFocused:!1}),h=j.useRef(null),G=ie(h,$),H=ae(()=>window),[x,C]=Q(L??null,A,q,void 0,i==null?void 0:i.control),f=o.current.inputFocused&&!_.isUndefined(o.current.inputValue)?o.current.inputValue:_.isNull(x)?"":x.toString(),m=e=>{(_.isNull(e)?"":e.toString())!==f&&I(),o.current.inputValue=void 0,C(e)},{size:s,disabled:l}=ne({size:K,disabled:V||(i==null?void 0:i.control.disabled)}),z=e=>{var t;return Number(Math.max(d??-1/0,Math.min(c??1/0,e)).toFixed(((t=b.toString().split(".")[1])==null?void 0:t.length)??0))},k=(e=!0)=>{m(z((()=>{let a=f.length>0?Number(f):null;return _.isNull(a)?0:(y&&!Number.isInteger(a)&&(a=Math.round(a)),e?a+b:a-b)})()));const t=a=>{const E=z(e?a+b:a-b);m(E),o.current.clearLoop=w.setTimeout(()=>t(E),50)};o.current.clearTid=w.setTimeout(()=>t(Number(f)),400)},J=()=>{var e,t,a,E;(t=(e=o.current).clearLoop)==null||t.call(e),(E=(a=o.current).clearTid)==null||E.call(a)};ce(H,"mouseup",J);const W=e=>{document.activeElement===h.current&&e.target!==h.current&&e.button===0&&e.preventDefault()},re=te({compose:{disabled:l},form:i}),X=n.jsx("input",{...p("input__input"),...i==null?void 0:i.inputAria,ref:G,value:f,max:c,min:d,step:b,type:"number",placeholder:O,disabled:l,onChange:e=>{if(I(),o.current.inputValue=e.currentTarget.value,e.currentTarget.value.length===0)m(null);else{const t=Number(e.currentTarget.value);(_.isUndefined(c)||t<=c)&&(_.isUndefined(d)||t>=d)&&(!y||Number.isInteger(t))&&m(t)}},onFocus:()=>{o.current.inputFocused=!0,o.current.inputValue=void 0},onBlur:()=>{if(o.current.inputFocused=!1,f.length===0)m(null);else{let e=Number(f);!_.isUndefined(c)&&e>c&&(e=c),!_.isUndefined(d)&&e<d&&(e=d),y&&!Number.isInteger(e)&&(e=Math.round(e)),m(e)}}});return n.jsxs("div",{...u,...B(p("input",`input--${s}`,{"input.is-disabled":l}),{className:u.className,style:{...u.style,paddingRight:D&&!l&&!U(S)?0:void 0}}),...re,onMouseDown:e=>{var t;(t=u.onMouseDown)==null||t.call(u,e),W(e)},onMouseUp:e=>{var t;(t=u.onMouseUp)==null||t.call(u,e),W(e)},onClick:e=>{var t,a;(t=u.onClick)==null||t.call(u,e),(a=h.current)==null||a.focus({preventScroll:!0})},children:[U(T)&&n.jsx("div",{...p("input__prefix"),children:T}),M?M(X):X,P&&!l&&n.jsx("div",{...B(p("input__clear"),{style:{opacity:f.length>0?1:0}}),role:"button","aria-label":R("Clear"),onClick:()=>{m(null),r==null||r()},children:n.jsx(N,{children:n.jsx(ue,{})})}),D&&!l&&n.jsxs("div",{...p("input__number-container"),children:[n.jsx("div",{...p("input__number"),role:"button","aria-label":R("Input","Increase number"),onMouseDown:e=>{e.button===0&&k()},onTouchStart:()=>{k()},onTouchEnd:()=>{J()},children:n.jsx(N,{children:n.jsx(me,{})})}),n.jsx("div",{...p("input__number"),role:"button","aria-label":R("Input","Decrease number"),onMouseDown:e=>{e.button===0&&k(!1)},onTouchStart:()=>{k(!1)},onTouchEnd:()=>{J()},children:n.jsx(N,{children:n.jsx(de,{})})})]}),U(S)&&n.jsx("div",{...p("input__suffix"),children:S})]})}const he=g=>{const{styleOverrides:F,styleProvider:v,formControl:i,model:A,defaultModel:L,type:c,prefix:d,suffix:b,password:y,defaultPassword:T,clearable:S,placeholder:P,size:O,disabled:K=!1,inputRef:D,inputRender:V,onModelChange:$,onClear:M,onPasswordChange:q,...r}=Y("Input",g),u=Z(se,{input:v==null?void 0:v.input},F),{t:p}=ee(),w=j.useRef(null),R=ie(w,D),[I,o]=Q(L??"",A,$,void 0,i==null?void 0:i.control),[h,G]=Q(T??!0,y,q),{size:H,disabled:x}=ne({size:O,disabled:K||(i==null?void 0:i.control.disabled)}),C=s=>{document.activeElement===w.current&&s.target!==w.current&&s.button===0&&s.preventDefault()},f=te({compose:{disabled:x},form:i}),m=n.jsx("input",{...u("input__input"),...i==null?void 0:i.inputAria,ref:R,value:I,type:c==="password"?h?"password":"text":c,placeholder:P,disabled:x,onChange:s=>{o(s.currentTarget.value)}});return n.jsxs("div",{...r,...B(u("input",`input--${H}`,{"input.is-disabled":x}),{className:r.className,style:r.style}),...f,onMouseDown:s=>{var l;(l=r.onMouseDown)==null||l.call(r,s),C(s)},onMouseUp:s=>{var l;(l=r.onMouseUp)==null||l.call(r,s),C(s)},onClick:s=>{var l,z;(l=r.onClick)==null||l.call(r,s),(z=w.current)==null||z.focus({preventScroll:!0})},children:[U(d)&&n.jsx("div",{...u("input__prefix"),children:d}),V?V(m):m,S&&!x&&n.jsx("div",{...B(u("input__clear"),{style:{opacity:I.length>0?1:0}}),role:"button","aria-label":p("Clear"),onClick:()=>{o(""),M==null||M()},children:n.jsx(N,{children:n.jsx(ue,{})})}),c==="password"&&!x&&n.jsx("div",{...u("input__password"),role:"button","aria-label":p("Input",h?"Password is not visible":"Password is visible"),onClick:()=>{G(s=>!s)},children:h?n.jsx(N,{children:n.jsx(fe,{})}):n.jsx(N,{children:n.jsx(pe,{})})}),U(b)&&n.jsx("div",{...u("input__suffix"),children:b})]})};he.Number=be;export{he as I};
