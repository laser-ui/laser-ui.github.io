import{r as c,u as j,b as T,j as n,m as B,I as E,q as $,e as N,f as F,s as A,h as I,i as P,k as L,n as z,T as v,l as O,c as V}from"./index-88974b67.js";import{s as G}from"./scrollTo-4be5c507.js";import{t as M}from"./toPx-904f4b5c.js";import{S as D}from"./add-c2550304.js";const U=b=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...b},c.createElement("path",{d:"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"})),q={fab:"^fab",fab__actions:"^fab__actions","fab__actions--top":"^fab__actions--top","fab__actions--right":"^fab__actions--right","fab__actions--bottom":"^fab__actions--bottom","fab__actions--left":"^fab__actions--left"},H={"fab-button":"^fab-button","fab-button.t-primary":"t-primary","fab-button.t-success":"t-success","fab-button.t-warning":"t-warning","fab-button.t-danger":"t-danger","fab-button.is-expand":"is-expand","fab-button.is-loading":"is-loading","fab-button--in-actions":"^fab-button--in-actions","fab-button--primary":"^fab-button--primary","fab-button--secondary":"^fab-button--secondary","fab-button--outline":"^fab-button--outline","fab-button--dashed":"^fab-button--dashed","fab-button--text":"^fab-button--text","fab-button--link":"^fab-button--link","fab-button--circle":"^fab-button--circle","fab-button--round":"^fab-button--round","fab-button__icon":"^fab-button__icon","fab-button__content":"^fab-button__content"},R=c.forwardRef((b,p)=>{const{children:h,styleOverrides:a,styleProvider:l,pattern:x="primary",theme:f="primary",loading:d=!1,shape:t,_expand:u=!1,_action:_=!1,...o}=j("FabButton",b),s=T(H,{"fab-button":l==null?void 0:l["fab-button"]},a);return n.jsxs("button",{...o,...B(s("fab-button",`fab-button.t-${f}`,`fab-button--${x}`,{"fab-button.is-expand":u,"fab-button.is-loading":d,"fab-button--in-actions":_,[`fab-button--${t}`]:t}),{className:o.className,style:o.style}),ref:p,type:o.type??"button",children:[n.jsx(E,{...s("fab-button__icon"),children:n.jsx(D,{})}),n.jsx("div",{...s("fab-button__content"),children:d?n.jsx(E,{children:n.jsx($,{})}):h})]})});function J(b){const{children:p,page:h,distance:a=400,scrollBehavior:l="instant",...x}=j("FabBacktop",b),{pageScrollRef:f,contentResizeRef:d}=N(),t=F(h??(()=>f.current)),u=c.useRef({}),[_,o]=c.useState(!1),s={enter:{opacity:0},entering:{transition:["opacity"].map(r=>`${r} ${v}ms linear`).join(", ")},leaving:{opacity:0,transition:["opacity"].map(r=>`${r} ${v}ms linear`).join(", ")},leaved:{display:"none"}},e=()=>{if(t.current){const r=O.isString(a)?M(a,!0):a;o(Math.ceil(t.current.scrollTop)>=r)}};A(()=>{e()},[]);const m=I(e);P(t,"scroll",e,{passive:!0},m),L(d,e);const i=n.jsx(R,{...x,children:p??n.jsx(E,{children:n.jsx(U,{})})});return n.jsx(z,{enter:_,during:v,children:r=>c.cloneElement(i,{style:{...i.props.style,...s[r]},onClick:S=>{var g,y,C,k;(y=(g=i.props).onClick)==null||y.call(g,S),t.current&&((k=(C=u.current).clearTid)==null||k.call(C),u.current.clearTid=G(t.current,{top:0,behavior:l}))}})})}const w=b=>{const{children:p,styleOverrides:h,styleProvider:a,expand:l,defaultExpand:x,list:f,onExpandChange:d,...t}=j("Fab",b),u=T(q,{fab:a==null?void 0:a.fab},h),[_,o]=V(x??!1,l,d);return n.jsxs("div",{...t,...B(u("fab"),{className:t.className,style:t.style}),children:[c.cloneElement(p,{_expand:_,onClick:s=>{var e,m;(m=(e=p.props).onClick)==null||m.call(e,s),f&&o(i=>!i)}}),_&&f&&f.map(({placement:s,actions:e},m)=>n.jsx("div",{...u("fab__actions",`fab__actions--${s}`),children:c.Children.map(e,(i,r)=>c.cloneElement(i,{_action:!0,style:{...i.props.style,animationDelay:`${r*33}ms`},onClick:S=>{var g,y;(y=(g=i.props).onClick)==null||y.call(g,S),o(!1)}}))},m))]})};w.Button=R;w.Backtop=J;export{w as F};
