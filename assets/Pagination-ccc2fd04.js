import{u as F,b as G,v as J,r as z,c as K,j as i,m as Q,I as v,E as U,l as k}from"./index-f0b62949.js";import{S as W}from"./keyboard_arrow_left-d4d04721.js";import{S as X,a as Y}from"./keyboard_double_arrow_right-5f9a9a8d.js";import{S as $}from"./Route-9a2363c6.js";import{S as Z}from"./Select-6eef83fd.js";import{I as ii}from"./Input-79c23f72.js";function A(S,P=!1){return{tabIndex:P?-1:0,role:"button","aria-disabled":P,onKeyDown:u=>{(u.code==="Enter"||u.code==="Space")&&(u.preventDefault(),S())},onClick:S}}const ni={pagination:"^pagination","pagination--mini":"^pagination--mini",pagination__row:"^pagination__row",pagination__jump:"^pagination__jump",pagination__button:"^pagination__button","pagination__button.is-active":"is-active","pagination__button.is-disabled":"is-disabled","pagination__button--border":"^pagination__button--border","pagination__button--number":"^pagination__button--number","pagination__button--jump5":"^pagination__button--jump5","pagination__jump5-icon":"^pagination__jump5-icon",pagination__ellipsis:"^pagination__ellipsis"};function pi(S){const{styleOverrides:P,styleProvider:u,total:f,active:L,defaultActive:C,pageSize:O,defaultPageSize:H,pageSizeList:R=[10,20,50,100],compose:E=["pages"],customRender:t,mini:j=!1,onChange:x,...w}=F("Pagination",S),r=G(ni,{pagination:u==null?void 0:u.pagination},P),{t:g}=J(),M=z.useRef(null),[o,T]=K(C??1,L),c=p=>{const d=Math.max(Math.min(p,s),1);T(d),Object.is(d,o)||x==null||x(d,h)},[h,V]=K(H??R[0],O),q=p=>{V(p);const d=Math.max(Math.ceil(f/p),1),_=Math.max(Math.min(o,d),1);(!Object.is(_,o)||!Object.is(p,h))&&(x==null||x(_,p))},[N,B]=z.useState(null),s=Math.max(Math.ceil(f/h),1);return i.jsx("nav",{...w,...Q(r("pagination",{"pagination--mini":j}),{className:w.className,style:w.style}),ref:M,role:"navigation","aria-label":w["aria-label"]??"Pagination Navigation",children:i.jsx("div",{...r("pagination__row"),children:E.map((p,d)=>{const _=d===E.length-1?void 0:j?2:6;if(p==="total"){const m=(()=>{const a=[Math.min((o-1)*h+1,f),Math.min(o*h,f)];return t&&t.total?t.total(a):`${g("Pagination","Total")} ${f} ${g("Pagination","items")}`})();return i.jsx("div",{children:i.jsx("div",{style:{paddingRight:_},children:m})},"total")}if(p==="pages"){const[m,a,b]=[i.jsx("li",{...r("pagination__button",{"pagination__button.is-disabled":o===1,"pagination__button--border":!(t&&t.prev)}),...A(()=>{c(o-1)},o===1),title:g("Pagination","Previous page"),children:t&&t.prev?t.prev:i.jsx(v,{children:i.jsx(W,{})})}),n=>t&&t.page?t.page(n):i.jsx("div",{children:n}),i.jsx("li",{...r("pagination__button",{"pagination__button.is-disabled":o===s,"pagination__button--border":!(t&&t.next)}),...A(()=>{c(o+1)},o===s),title:g("Pagination","Next page"),children:t&&t.next?t.next:i.jsx(v,{children:i.jsx(U,{})})})];let e=[];if(s<=7)e=Array.from({length:s}).map((n,l)=>l+1);else{for(let n=-3;n<=3;n++)e.push(o+n);e[0]<1&&(e=e.map(n=>n+(1-e[0]))),e[6]>s&&(e=e.map(n=>n-(e[6]-s))),e[0]>1&&(e[0]=1,e[1]="prev5"),e[6]<s&&(e[6]=s,e[5]="next5")}return i.jsxs(z.Fragment,{children:[i.jsx("div",{children:m}),e.map(n=>n==="prev5"?i.jsx("div",{children:i.jsxs("li",{...r("pagination__button","pagination__button--jump5"),...A(()=>{c(o-5)}),title:g("Pagination","5 pages forward"),children:[i.jsx(v,{...r("pagination__jump5-icon"),children:i.jsx(X,{})}),i.jsx("div",{...r("pagination__ellipsis"),children:i.jsx(v,{children:i.jsx($,{})})})]})},"prev5"):n==="next5"?i.jsx("div",{children:i.jsxs("li",{...r("pagination__button","pagination__button--jump5"),...A(()=>{c(o+5)}),title:g("Pagination","5 pages backward"),children:[i.jsx(v,{...r("pagination__jump5-icon"),children:i.jsx(Y,{})}),i.jsx("div",{...r("pagination__ellipsis"),children:i.jsx(v,{children:i.jsx($,{})})})]})},"next5"):i.jsx("div",{children:i.jsx("li",{...r("pagination__button","pagination__button--border","pagination__button--number",{"pagination__button.is-active":o===n}),tabIndex:0,"data-number":n,onClick:()=>{c(n)},onKeyDown:l=>{const y=I=>{if(M.current){const D=M.current.querySelector(`li[data-number="${I}"]`);D==null||D.focus({preventScroll:!0})}c(I)};switch(l.code){case"ArrowLeft":l.preventDefault(),y(n-1);break;case"ArrowRight":l.preventDefault(),y(n+1);break;case"Home":l.preventDefault(),y(1);break;case"End":l.preventDefault(),y(s);break}},children:a(n)})},n)),i.jsx("div",{children:i.jsx("div",{style:{paddingRight:_},children:b})})]},"pages")}if(p==="page-size"){const m=R.map(a=>({label:a.toString(),value:a}));return i.jsx("div",{children:i.jsx("div",{style:{paddingRight:_},children:i.jsx(Z,{list:m,model:h,size:j?"small":void 0,customItem:a=>t&&t.pageSize?t.pageSize(a.value):a.label,customSelected:(a,b)=>b?`${b.label}${g("Pagination"," / Page")}`:String(a),onModelChange:a=>{k.isNull(a)||q(a)}})})},"page-size")}if(p==="jump"){const m=(()=>{const a=i.jsx(ii.Number,{style:{width:j?48:72},model:N,max:s,min:1,step:1,size:j?"small":void 0,numberButton:!j,inputRender:b=>z.cloneElement(b,{onKeyDown:e=>{var n,l;(l=(n=b.props).onKeyDown)==null||l.call(n,e),e.code==="Enter"&&(e.preventDefault(),k.isNumber(N)&&c(N))}}),onModelChange:B});return t&&t.jump?t.jump(a):i.jsxs("div",{...r("pagination__jump"),children:[i.jsx("span",{children:g("Pagination","Go")}),a,i.jsx("span",{children:g("Pagination","Page")})]})})();return i.jsx("div",{children:i.jsx("div",{style:{paddingRight:_},children:m})},"jump")}return null})})})}export{pi as P};
