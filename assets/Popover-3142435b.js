import{r as z,d as Ie,u as Le,b as $e,x as Se,c as ce,m as ke,j as t,l as de,B as je,I as Re,K as ze,a as Ae,f as Te,H as Be,g as He,U as Ke,ad as Oe,P as Ue,n as We,L as Ve,ac as qe,ae as Ge}from"./index-43a12276.js";const Ce={popover:"^popover","popover--top":"^popover--top","popover--top-left":"^popover--top-left","popover--top-right":"^popover--top-right","popover--right":"^popover--right","popover--right-top":"^popover--right-top","popover--right-bottom":"^popover--right-bottom","popover--bottom":"^popover--bottom","popover--bottom-left":"^popover--bottom-left","popover--bottom-right":"^popover--bottom-right","popover--left":"^popover--left","popover--left-top":"^popover--left-top","popover--left-bottom":"^popover--left-bottom",popover__mask:"^popover__mask",popover__content:"^popover__content",popover__arrow:"^popover__arrow",popover__header:"^popover__header","popover__header-title":"^popover__header-title","popover__header-actions":"^popover__header-actions",popover__body:"^popover__body",popover__footer:"^popover__footer","popover__footer--left":"^popover__footer--left","popover__footer--center":"^popover__footer--center","popover__footer--right":"^popover__footer--right"},Ee={enter:86,leave:100},Fe=z.createContext(void 0);function Me(O){const e=Ie.c(33),{styleOverrides:U,styleProvider:n,align:w,actions:y,cancelProps:d,okProps:i,onCancelClick:s,onOkClick:P,...$}=Le("PopoverFooter",O),f=w===void 0?"right":w;let k;e[0]!==y?(k=y===void 0?["cancel","ok"]:y,e[0]=y,e[1]=k):k=e[1];const v=k,j=n==null?void 0:n.popover;let r;e[2]!==j?(r={popover:j},e[2]=j,e[3]=r):r=e[3];const N=$e(Ce,r,U),{t:g}=Se(),o=z.use(Fe),[C,a]=ce(!1,d==null?void 0:d.loading),[S,m]=ce(!1,i==null?void 0:i.loading);let x;e[4]!==a||e[5]!==s||e[6]!==o?(x=()=>{const u=s==null?void 0:s();u instanceof Promise?(a(!0),u.then(E=>{a(!1),E!==!1&&(o==null||o.onClose())})):u!==!1&&(o==null||o.onClose())},e[4]=a,e[5]=s,e[6]=o,e[7]=x):x=e[7];let h;e[8]!==C||e[9]!==d||e[10]!==x?(h={...d,loading:C,onClick:x},e[8]=C,e[9]=d,e[10]=x,e[11]=h):h=e[11];const l=h;let p;e[12]!==m||e[13]!==P||e[14]!==o?(p=()=>{const u=P==null?void 0:P();u instanceof Promise?(m(!0),u.then(E=>{m(!1),E!==!1&&(o==null||o.onClose())})):u!==!1&&(o==null||o.onClose())},e[12]=m,e[13]=P,e[14]=o,e[15]=p):p=e[15];let b;e[16]!==S||e[17]!==i||e[18]!==p?(b={...i,loading:S,onClick:p},e[16]=S,e[17]=i,e[18]=p,e[19]=b):b=e[19];const c=b,F=ke(N("popover__footer",`popover__footer--${f}`),{className:$.className,style:$.style});let _;if(e[20]!==v||e[21]!==l||e[22]!==c||e[23]!==g){let u;e[25]!==l||e[26]!==c||e[27]!==g?(u=(E,X)=>{const{id:Y,action:W}=de.has(E,["id","action"])?E:{id:X,action:E};return t.jsx(z.Fragment,{children:W==="cancel"?t.jsx(je,{...l,pattern:l.pattern??"secondary",children:l.children??g("Footer","Cancel")}):W==="ok"?t.jsx(je,{...c,children:c.children??g("Footer","OK")}):W},Y)},e[25]=l,e[26]=c,e[27]=g,e[28]=u):u=e[28],_=v.map(u),e[20]=v,e[21]=l,e[22]=c,e[23]=g,e[24]=_}else _=e[24];let A;return e[29]!==$||e[30]!==_||e[31]!==F?(A=t.jsx("div",{...$,...F,children:_}),e[29]=$,e[30]=_,e[31]=F,e[32]=A):A=e[32],A}function De(O){const e=Ie.c(35),{styleOverrides:U,styleProvider:n,children:w,actions:y,closeProps:d,onCloseClick:i,...s}=Le("PopoverHeader",O);let P;e[0]!==y?(P=y===void 0?[]:y,e[0]=y,e[1]=P):P=e[1];const $=P,f=n==null?void 0:n.popover;let k;e[2]!==f?(k={popover:f},e[2]=f,e[3]=k):k=e[3];const v=$e(Ce,k,U),{t:j}=Se(),r=z.use(Fe),[N,g]=ce(!1,d==null?void 0:d.loading);let o;e[4]!==g||e[5]!==i||e[6]!==r?(o=()=>{const F=i==null?void 0:i();F instanceof Promise?(g(!0),F.then(_=>{g(!1),_!==!1&&(r==null||r.onClose())})):F!==!1&&(r==null||r.onClose())},e[4]=g,e[5]=i,e[6]=r,e[7]=o):o=e[7];let C;e[8]!==N||e[9]!==d||e[10]!==o?(C={...d,loading:N,onClick:o},e[8]=N,e[9]=d,e[10]=o,e[11]=C):C=e[11];const a=C,S=ke(v("popover__header"),{className:s.className,style:s.style});let m;e[12]!==v?(m=v("popover__header-title"),e[12]=v,e[13]=m):m=e[13];const x=r==null?void 0:r.id;let h;e[14]!==w||e[15]!==m||e[16]!==x?(h=t.jsx("div",{...m,id:x,children:w}),e[14]=w,e[15]=m,e[16]=x,e[17]=h):h=e[17];let l;e[18]!==v?(l=v("popover__header-actions"),e[18]=v,e[19]=l):l=e[19];let p;if(e[20]!==$||e[21]!==a||e[22]!==j){let F;e[24]!==a||e[25]!==j?(F=(_,A)=>{const{id:u,action:E}=de.has(_,["id","action"])?_:{id:A,action:_};return t.jsx(z.Fragment,{children:E==="close"?t.jsx(je,{...a,"aria-label":a["aria-label"]??j("Close"),pattern:a.pattern??"text",icon:a.icon??t.jsx(Re,{children:t.jsx(ze,{})})}):E},u)},e[24]=a,e[25]=j,e[26]=F):F=e[26],p=$.map(F),e[20]=$,e[21]=a,e[22]=j,e[23]=p}else p=e[23];let b;e[27]!==l||e[28]!==p?(b=t.jsx("div",{...l,children:p}),e[27]=l,e[28]=p,e[29]=b):b=e[29];let c;return e[30]!==s||e[31]!==b||e[32]!==S||e[33]!==h?(c=t.jsxs("div",{...s,...S,children:[h,b]}),e[30]=s,e[31]=b,e[32]=S,e[33]=h,e[34]=c):c=e[34],c}const Ne=O=>{const e=Ie.c(79),U=Le("Popover",O);let n,w,y,d,i,s,P,$,f,k,v,j,r,N,g,o,C,a,S,m,x,h,l,p,b,c;e[0]!==U?({ref:$,children:w,styleOverrides:k,styleProvider:v,content:y,header:s,footer:i,visible:b,defaultVisible:d,trigger:j,placement:C,placementFixed:a,arrow:S,escClosable:m,gap:x,inWindow:h,mouseEnterDelay:l,mouseLeaveDelay:p,modal:r,skipFirstTransition:N,destroyAfterClose:g,lazyLoading:o,zIndex:c,onVisibleChange:P,afterVisibleChange:n,...f}=U,e[0]=U,e[1]=n,e[2]=w,e[3]=y,e[4]=d,e[5]=i,e[6]=s,e[7]=P,e[8]=$,e[9]=f,e[10]=k,e[11]=v,e[12]=j,e[13]=r,e[14]=N,e[15]=g,e[16]=o,e[17]=C,e[18]=a,e[19]=S,e[20]=m,e[21]=x,e[22]=h,e[23]=l,e[24]=p,e[25]=b,e[26]=c):(n=e[1],w=e[2],y=e[3],d=e[4],i=e[5],s=e[6],P=e[7],$=e[8],f=e[9],k=e[10],v=e[11],j=e[12],r=e[13],N=e[14],g=e[15],o=e[16],C=e[17],a=e[18],S=e[19],m=e[20],x=e[21],h=e[22],l=e[23],p=e[24],b=e[25],c=e[26]);const F=j===void 0?"hover":j,_=C===void 0?"top":C,A=a===void 0?!1:a,u=S===void 0?!0:S,E=m===void 0?!0:m,X=x===void 0?10:x,Y=h===void 0?!1:h,W=l===void 0?150:l,fe=p===void 0?200:p,T=r===void 0?!1:r,ve=N===void 0?!0:N,ue=g===void 0?!1:g,ge=o===void 0?!0:o,me=T?"click":F,I=Ae(),he=v==null?void 0:v.popover;let ee;e[27]!==he?(ee={popover:he},e[27]=he,e[28]=ee):ee=e[28];const V=$e(Ce,ee,k),_e=z.useId(),Z=`${I}-popover-trigger-${_e}`,oe=`${I}-popover-title-${_e}`,te=`${I}-popover-content-${_e}`;let re;e[29]!==Z?(re=()=>document.getElementById(Z),e[29]=Z,e[30]=re):re=e[30];const q=Te(re),G=z.useRef(null),H=z.useRef(null),ye=z.useRef(null),[D,K]=ce(d??!1,b,P),xe=Be(D);let se;e[31]!==I||e[32]!==c||e[33]!==xe?(se=de.isUndefined(c)?`calc(var(--${I}-zindex-fixed) + ${xe})`:c,e[31]=I,e[32]=c,e[33]=xe,e[34]=se):se=e[34];const be=se,le=z.useRef(_);let ne;e[35]!==X||e[36]!==Y||e[37]!==I||e[38]!==A||e[39]!==_||e[40]!==q||e[41]!==D?(ne=()=>{if(D&&q.current&&G.current&&H.current){const M=Oe(q.current,{width:H.current.offsetWidth,height:H.current.offsetHeight},{placement:_,placementFallback:le.current,placementFixed:A,gap:X,inWindow:Y});G.current.classList.toggle(`${I}-popover--${le.current}`,!1),le.current=M.placement,G.current.classList.toggle(`${I}-popover--${le.current}`,!0),H.current.style.setProperty("--popup-transform-origin",M.transformOrigin),H.current.style.top=M.top+"px",H.current.style.left=M.left+"px"}},e[35]=X,e[36]=Y,e[37]=I,e[38]=A,e[39]=_,e[40]=q,e[41]=D,e[42]=ne):ne=e[42];const R=He(ne);Ke(T&&D);let ie,ae;e[43]!==R?(ie=()=>({updatePosition:R}),ae=[R],e[43]=R,e[44]=ie,e[45]=ae):(ie=e[44],ae=e[45]),z.useImperativeHandle($,ie,ae);let J;e[46]!==q||e[47]!==R?(J={fn:R,triggerRef:q,popupRef:H},e[46]=q,e[47]=R,e[48]=J):J=e[48];let Q;e[49]!==n||e[50]!==u||e[51]!==te||e[52]!==K||e[53]!==w||e[54]!==y||e[55]!==ue||e[56]!==E||e[57]!==i||e[58]!==s||e[59]!==ge||e[60]!==T||e[61]!==I||e[62]!==f||e[63]!==ve||e[64]!==V||e[65]!==oe||e[66]!==Z||e[67]!==R||e[68]!==D||e[69]!==be?(Q=M=>t.jsxs(t.Fragment,{children:[w({id:Z,...M.trigger,onKeyDown:L=>{D&&E&&L.code==="Escape"&&(L.stopPropagation(),L.preventDefault(),K(!1))}}),t.jsx(Ue,{selector:()=>{let L=document.getElementById(`${I}-popover-root`);return L||(L=document.createElement("div"),L.id=`${I}-popover-root`,document.body.appendChild(L)),L},children:t.jsx(We,{enter:D,name:`${I}-popup`,duration:Ee,skipFirstTransition:ve,onSkipEnter:R,onBeforeEnter:L=>{R(),L&&L.style.setProperty("--popup-duration",Ee.enter+"ms")},onAfterEnter:()=>{n==null||n(!0),T&&(ye.current=document.activeElement,G.current&&G.current.focus({preventScroll:!0}))},onBeforeLeave:Ze,onAfterLeave:()=>{n==null||n(!1),T&&ye.current&&ye.current.focus({preventScroll:!0})},children:(L,Pe)=>t.jsx(Ve,{hidden:Pe,disabled:!ge,children:Pe&&ue?null:t.jsx(Fe,{value:{id:oe,onClose:()=>{K(!1)}},children:t.jsxs("div",{...f,...ke(V("popover"),{className:f.className,style:{...f.style,"--popup-scale":.3,zIndex:be,...Pe?{display:"none"}:void 0}}),ref:B=>(G.current=B,()=>{G.current=null}),tabIndex:-1,role:f.role??T?"alertdialog":"dialog","aria-modal":T,"aria-labelledby":s?oe:void 0,"aria-describedby":te,onKeyDown:B=>{var we;(we=f.onKeyDown)==null||we.call(f,B),D&&E&&B.code==="Escape"&&(B.stopPropagation(),B.preventDefault(),K(!1)),T&&qe(B)},children:[T&&t.jsx("div",{...V("popover__mask"),onClick:()=>{K(!1)}}),t.jsxs("div",{...V("popover__content"),ref:B=>(H.current=B,L(B),()=>{H.current=null,L(null)}),...M.popup,children:[u&&t.jsx("div",{...V("popover__arrow")}),de.isString(s)?t.jsx(De,{children:s}):s,t.jsx("div",{...V("popover__body"),id:te,children:y}),i]})]})})})})})]}),e[49]=n,e[50]=u,e[51]=te,e[52]=K,e[53]=w,e[54]=y,e[55]=ue,e[56]=E,e[57]=i,e[58]=s,e[59]=ge,e[60]=T,e[61]=I,e[62]=f,e[63]=ve,e[64]=V,e[65]=oe,e[66]=Z,e[67]=R,e[68]=D,e[69]=be,e[70]=Q):Q=e[70];let pe;return e[71]!==K||e[72]!==W||e[73]!==fe||e[74]!==J||e[75]!==Q||e[76]!==me||e[77]!==D?(pe=t.jsx(Ge,{visible:D,trigger:me,mouseEnterDelay:W,mouseLeaveDelay:fe,updatePosition:J,onVisibleChange:K,children:Q}),e[71]=K,e[72]=W,e[73]=fe,e[74]=J,e[75]=Q,e[76]=me,e[77]=D,e[78]=pe):pe=e[78],pe};Ne.Header=De;Ne.Footer=Me;function Ze(O){O&&O.style.setProperty("--popup-duration",Ee.leave+"ms")}export{Ne as P};
