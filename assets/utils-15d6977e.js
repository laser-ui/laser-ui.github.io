import{r as c,a9 as J,d as X,O as k,g as Y,j as w,l as p}from"./index-10b5111c.js";import{s as U}from"./scrollTo-d3a86f68.js";const ce=i=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...i},c.createElement("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"})),Z=J(["12",...Array.from({length:11}).map((i,e)=>`${e+1<10?"0":""}${e+1}`)]),[ee,te,re]=[24,60,60].map(i=>J(Array.from({length:i}).map((e,s)=>`${s<10?"0":""}${s}`)));function le(i){const e=X.c(20),{ref:s,styled:n,time:d,format:a,config:m,inDatePicker:B,onTimeChange:D}=i,K=B===void 0?!1:B,H=c.useRef(null),x=c.useRef(null),M=c.useRef(null);let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E={},e[0]=E):E=e[0];const g=c.useRef(E);let j;e[1]!==a?(j=a.includes("hh"),e[1]=a,e[2]=j):j=e[2];const T=j;let v;e[3]!==a?(v=[],a.toLowerCase().includes("hh")&&v.push("HH"),a.includes("mm")&&v.push("mm"),a.includes("ss")&&v.push("ss"),e[3]=a,e[4]=v):v=e[4];const A=v,u=d?k(d):k("00:00:00","HH:mm:ss"),[Q,W]=c.useState("AM"),h=d?u.get("hour")<12?"AM":"PM":Q;let P;e[5]!==h||e[6]!==T?(P=(r,t,_)=>{var l,L,I,V,F,G;const f=_===void 0?"smooth":_;if(t==="hour"||p.isUndefined(t)){let o=r.getHours();T&&(h==="AM"&&o>11&&(o=o-12),h==="PM"&&o<12&&(o=o+12)),H.current&&((L=(l=g.current).clearHTid)==null||L.call(l),g.current.clearHTid=U(H.current,{top:Array.prototype.indexOf.call(H.current.children,H.current.querySelector(`[data-h="${o}"]`))*28,behavior:f,during:200}))}if(t==="minute"||p.isUndefined(t)){const o=r.getMinutes();x.current&&((V=(I=g.current).clearMTid)==null||V.call(I),g.current.clearMTid=U(x.current,{top:Array.prototype.indexOf.call(x.current.children,x.current.querySelector(`[data-m="${o}"]`))*28,behavior:f,during:200}))}if(t==="second"||p.isUndefined(t)){const o=r.getSeconds();M.current&&((G=(F=g.current).clearSTid)==null||G.call(F),g.current.clearSTid=U(M.current,{top:Array.prototype.indexOf.call(M.current.children,M.current.querySelector(`[data-s="${o}"]`))*28,behavior:f,during:200}))}},e[5]=h,e[6]=T,e[7]=P):P=e[7];const y=Y(P);let R,b;e[8]!==y?(R=()=>r=>{y(r,void 0,"instant")},b=[y],e[8]=y,e[9]=R,e[10]=b):(R=e[9],b=e[10]),c.useImperativeHandle(s,R,b);let S;e[11]!==n?(S=n("time-picker__panel"),e[11]=n,e[12]=S):S=e[12];const $=K&&w.jsx("div",{...n("time-picker__header"),children:u.format(A.join(":"))}),N=A.includes("HH")&&w.jsx("ul",{...n("time-picker__column"),ref:r=>(H.current=r,()=>{H.current=null}),children:(T?Z:ee).map(r=>{let t=Number(r);T&&(h==="AM"&&t===12&&(t=0),h==="PM"&&t!==12&&(t=t+12));const{disabled:_,hidden:f}=(m==null?void 0:m("hour",t))??{};return f?null:c.createElement("li",{...n("time-picker__cell",{"time-picker__cell.is-active":d&&u.get("hour")===t,"time-picker__cell.is-disabled":_}),key:t,"data-h":t,onClick:()=>{const l=u.set("hour",t).toDate();y(l,"hour"),D(l)}},r)})}),z=A.includes("mm")&&w.jsx("ul",{...n("time-picker__column"),ref:r=>(x.current=r,()=>{x.current=null}),children:te.map(r=>{const t=Number(r),{disabled:_,hidden:f}=(m==null?void 0:m("minute",t))??{};return f?null:c.createElement("li",{...n("time-picker__cell",{"time-picker__cell.is-active":d&&u.get("minute")===t,"time-picker__cell.is-disabled":_}),key:t,"data-m":t,onClick:()=>{const l=u.set("minute",t).toDate();y(l,"minute"),D(l)}},r)})}),O=A.includes("ss")&&w.jsx("ul",{...n("time-picker__column"),ref:r=>(M.current=r,()=>{M.current=null}),children:re.map(r=>{const t=Number(r),{disabled:_,hidden:f}=(m==null?void 0:m("second",t))??{};return f?null:c.createElement("li",{...n("time-picker__cell",{"time-picker__cell.is-active":d&&u.get("second")===t,"time-picker__cell.is-disabled":_}),key:t,"data-s":t,onClick:()=>{const l=u.set("second",t).toDate();y(l,"second"),D(l)}},r)})}),q=T&&w.jsx("ul",{...n("time-picker__column"),children:["AM","PM"].map(r=>c.createElement("li",{...n("time-picker__cell",{"time-picker__cell.is-active":h===r}),key:r,onClick:()=>{if(d){if(h!==r){const t=u.set("hour",u.get("hour")+(r==="AM"?-12:12)).toDate();D(t)}}else W(r)}},r))});let C;return e[13]!==O||e[14]!==q||e[15]!==S||e[16]!==$||e[17]!==N||e[18]!==z?(C=w.jsxs("div",{...S,children:[$,N,z,O,q]}),e[13]=O,e[14]=q,e[15]=S,e[16]=$,e[17]=N,e[18]=z,e[19]=C):C=e[19],C}function oe(i,e,s){const n=(d,a)=>k(d).format(s)===k(a).format(s);return p.isDate(i)&&p.isDate(e)?n(i,e):p.isNull(i)&&p.isNull(e)?!0:p.isArray(i)&&p.isArray(e)?n(i[0],e[0])&&n(i[1],e[1]):!1}function ie(i,e,s){return!!(e==="ascend"&&k(i[0]).isAfter(i[1],s)||e==="descend"&&k(i[0]).isBefore(i[1],s))}function ae(i,e){const s=k(i[0]).set("year",2e3).set("month",0).set("date",1),n=k(i[1]).set("year",2e3).set("month",0).set("date",1);return ie([s.toDate(),n.toDate()],e)}export{ce as S,le as T,ae as a,oe as d,ie as o};
