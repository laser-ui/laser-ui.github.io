import{d as w,u as z,b as C,r as _,h as M,l as E,m as j,j as $}from"./index-43a12276.js";import{t as W}from"./toPx-4d990ea1.js";const I={avatar:"^avatar","avatar--img":"^avatar--img","avatar--icon":"^avatar--icon","avatar--text":"^avatar--text","avatar--circle":"^avatar--circle","avatar--square":"^avatar--square",avatar__img:"^avatar__img"};function H(b){const t=w.c(18),{styleOverrides:A,styleProvider:x,shape:g,img:a,icon:l,text:n,size:N,...i}=z("Avatar",b),R=g===void 0?"circle":g,r=N===void 0?40:N,h=x==null?void 0:x.avatar;let u;t[0]!==h?(u={avatar:h},t[0]=h,t[1]=u):u=t[1];const v=C(I,u,A),s=_.useRef(null),[q,d]=_.useState(!1),e=a&&!q?"img":l?"icon":n?"text":"img";let m;t[2]!==r?(m=()=>{if(s.current){const c=Math.sqrt(Math.pow((E.isNumber(r)?r:W(r,!0))/2,2)-Math.pow(s.current.scrollHeight/2,2))*2;s.current.scrollWidth>c?s.current.style.transform=`scale(${c/s.current.scrollWidth})`:s.current.style.transform=""}},t[2]=r,t[3]=m):m=t[3],M(m);let f;t[4]!==r||t[5]!==e?(f=e==="icon"?`calc((${r}${E.isNumber(r)?"px":""} / 2) * 1.25)`:e==="text"?`calc(${r}${E.isNumber(r)?"px":""} / 2)`:void 0,t[4]=r,t[5]=e,t[6]=f):f=t[6];const y=j(v("avatar",`avatar--${e}`,`avatar--${R}`),{className:i.className,style:{...i.style,width:r,height:r,fontSize:f}});let o;t[7]!==l||t[8]!==a||t[9]!==d||t[10]!==v||t[11]!==n||t[12]!==e?(o=e==="img"?$.jsx("img",{...a,...j(v("avatar__img"),{className:a==null?void 0:a.className,style:a==null?void 0:a.style}),onError:c=>{var S;(S=a==null?void 0:a.onError)==null||S.call(a,c),d(!0)}}):e==="icon"?l:$.jsx("div",{ref:c=>(s.current=c,()=>{s.current=null}),children:n}),t[7]=l,t[8]=a,t[9]=d,t[10]=v,t[11]=n,t[12]=e,t[13]=o):o=t[13];let p;return t[14]!==i||t[15]!==y||t[16]!==o?(p=$.jsx("div",{...i,...y,children:o}),t[14]=i,t[15]=y,t[16]=o,t[17]=p):p=t[17],p}export{H as A};
