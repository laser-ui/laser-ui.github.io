import{a as M,r as j,j as e,l as b,w as R,u as N,b as P,c as U,x as V,m as $,U as A,I as F}from"./index-fbc62ce1.js";import{S as H}from"./star-471aae7d.js";function L(y){const{styled:o,value:a,hover:n,checked:c,icon:h,tooltip:t,name:r,half:S,disabled:_,inputProps:I,onCheck:l,onHoverChange:p}=y,f=M(),i=j.useId(),x=`${f}-rating-star-input-${i}`,k=`${f}-rating-star-half-input-${i}`,m=a===c,s=a-.5,v=s===c,[C,u]=j.useState(a),g=e.jsxs("div",{...o("rating__star"),children:[S&&e.jsxs(e.Fragment,{children:[e.jsx("input",{...o("rating__input","rating__input--half"),...I,id:k,type:"radio",name:r,checked:v,disabled:_,"aria-checked":v,onChange:()=>{l(s)},onMouseEnter:()=>{b.isUndefined(t)||u(s),p(s)}}),e.jsx("label",{...o("rating__icon","rating__icon--half",{"rating__icon.is-checked":s<=(n??c??0)}),htmlFor:k,children:h})]}),e.jsxs("label",{...o("rating__icon",{"rating__icon.is-checked":a<=(n??c??0)}),children:[e.jsx("input",{...o("rating__input"),id:x,type:"radio",name:r,checked:m,disabled:_,"aria-checked":m,onChange:()=>{l(a)},onMouseEnter:()=>{b.isUndefined(t)||u(a),p(a)}}),h]})]});return b.isUndefined(t)?g:e.jsx(R,{title:t==null?void 0:t(C),children:g})}const q={rating:"^rating","rating.is-disabled":"is-disabled","rating--read-only":"^rating--read-only",rating__star:"^rating__star",rating__input:"^rating__input","rating__input--half":"^rating__input--half",rating__icon:"^rating__icon","rating__icon.is-checked":"is-checked","rating__icon--half":"^rating__icon--half"};function w(y){const{styleOverrides:o,styleProvider:a,formControl:n,model:c,defaultModel:h,total:t=5,icon:r,tooltip:S,name:_,half:I=!1,readOnly:l=!1,disabled:p=!1,onModelChange:f,...i}=N("Rating",y),x=P(q,{rating:a==null?void 0:a.rating},o),k=j.useId(),[m,s]=j.useState(null),[v,C]=U(h??null,c,f,void 0,n==null?void 0:n.control),{disabled:u}=V({disabled:p||(n==null?void 0:n.control.disabled)});return e.jsx("div",{...i,...$(x("rating",{"rating.is-disabled":u,"rating--read-only":l}),{className:i.className,style:i.style}),role:"radiogroup",onMouseLeave:g=>{var d;(d=i.onMouseLeave)==null||d.call(i,g),s(null)},children:Array.from({length:t}).map((g,d)=>e.jsx(L,{styled:x,value:d+1,hover:m,checked:v,icon:b.isFunction(r)?r(d+1):A(r)?r:e.jsx(F,{children:e.jsx(H,{})}),tooltip:S,name:_??k,half:I,disabled:u||l,inputProps:n==null?void 0:n.inputAria,onCheck:E=>{C(E)},onHoverChange:E=>{s(E)}},d+1))})}export{w as R};
