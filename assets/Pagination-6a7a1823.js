import{u as F,b as G,v as J,r as z,c as K,j as i,m as Q,I as h,E as U,l as k}from"./index-88974b67.js";import{S as W}from"./keyboard_arrow_left-a1c8ee44.js";import{S as X,a as Y}from"./keyboard_double_arrow_right-177c6911.js";import{S as $}from"./Route-69d9a8a3.js";import{S as Z}from"./Select-b59a26c1.js";import{I as ii}from"./Input-7409905e.js";function A(f,S=!1){return{tabIndex:S?-1:0,role:"button","aria-disabled":S,onKeyDown:c=>{(c.code==="Enter"||c.code==="Space")&&(c.preventDefault(),f())},onClick:f}}const ni={pagination:"^pagination","pagination--mini":"^pagination--mini",pagination__row:"^pagination__row",pagination__jump:"^pagination__jump",pagination__button:"^pagination__button","pagination__button.is-active":"is-active","pagination__button.is-disabled":"is-disabled","pagination__button--border":"^pagination__button--border","pagination__button--number":"^pagination__button--number","pagination__button--jump5":"^pagination__button--jump5","pagination__jump5-icon":"^pagination__jump5-icon",pagination__ellipsis:"^pagination__ellipsis"};function pi(f){const{styleOverrides:S,styleProvider:c,total:v,active:L,defaultActive:C,pageSize:O,defaultPageSize:H,pageSizeList:R=[10,20,50,100],compose:E=["pages"],customRender:t,mini:b=!1,onChange:j,...P}=F("Pagination",f),s=G(ni,{pagination:c==null?void 0:c.pagination},S),{t:g}=J(),M=z.useRef(null),[o,T]=K(C??1,L),u=p=>{const d=Math.max(Math.min(p,r),1);T(d),Object.is(d,o)||j==null||j(d,x)},[x,V]=K(H??R[0],O),q=p=>{V(p);const d=Math.max(Math.ceil(v/p),1),_=Math.max(Math.min(o,d),1);(!Object.is(_,o)||!Object.is(p,x))&&(j==null||j(_,p))},[N,B]=z.useState(null),r=Math.max(Math.ceil(v/x),1);return i.jsx("nav",{...P,...Q(s("pagination",{"pagination--mini":b}),{className:P.className,style:P.style}),ref:M,role:"navigation","aria-label":P["aria-label"]??"Pagination Navigation",children:i.jsx("div",{...s("pagination__row"),children:E.map((p,d)=>{const _=d===E.length-1?void 0:b?2:6;if(p==="total"){const m=(()=>{const a=[Math.min((o-1)*x+1,v),Math.min(o*x,v)];return t&&t.total?t.total(a):`${g("Pagination","Total")} ${v} ${g("Pagination","items")}`})();return i.jsx("div",{children:i.jsx("div",{style:{paddingRight:_},children:m})},"total")}if(p==="pages"){const[m,a,w]=[i.jsx("li",{...s("pagination__button",{"pagination__button.is-disabled":o===1,"pagination__button--border":!(t&&t.prev)}),...A(()=>{u(o-1)},o===1),title:g("Pagination","Previous page"),children:t&&t.prev?t.prev:i.jsx(h,{children:i.jsx(W,{})})}),n=>t&&t.page?t.page(n):i.jsx("div",{children:n}),i.jsx("li",{...s("pagination__button",{"pagination__button.is-disabled":o===r,"pagination__button--border":!(t&&t.next)}),...A(()=>{u(o+1)},o===r),title:g("Pagination","Next page"),children:t&&t.next?t.next:i.jsx(h,{children:i.jsx(U,{})})})];let e=[];if(r<=7)e=Array.from({length:r}).map((n,l)=>l+1);else{for(let n=-3;n<=3;n++)e.push(o+n);e[0]<1&&(e=e.map(n=>n+(1-e[0]))),e[6]>r&&(e=e.map(n=>n-(e[6]-r))),e[0]>1&&(e[0]=1,e[1]="prev5"),e[6]<r&&(e[6]=r,e[5]="next5")}return i.jsxs(z.Fragment,{children:[i.jsx("div",{children:m}),e.map(n=>n==="prev5"?i.jsx("div",{children:i.jsxs("li",{...s("pagination__button","pagination__button--jump5"),...A(()=>{u(o-5)}),title:g("Pagination","5 pages forward"),children:[i.jsx(h,{...s("pagination__jump5-icon"),children:i.jsx(X,{})}),i.jsx("div",{...s("pagination__ellipsis"),children:i.jsx(h,{children:i.jsx($,{})})})]})},"prev5"):n==="next5"?i.jsx("div",{children:i.jsxs("li",{...s("pagination__button","pagination__button--jump5"),...A(()=>{u(o+5)}),title:g("Pagination","5 pages backward"),children:[i.jsx(h,{...s("pagination__jump5-icon"),children:i.jsx(Y,{})}),i.jsx("div",{...s("pagination__ellipsis"),children:i.jsx(h,{children:i.jsx($,{})})})]})},"next5"):i.jsx("div",{children:i.jsx("li",{...s("pagination__button","pagination__button--border","pagination__button--number",{"pagination__button.is-active":o===n}),tabIndex:0,"data-number":n,onClick:()=>{u(n)},onKeyDown:l=>{const y=I=>{if(M.current){const D=M.current.querySelector(`li[data-number="${I}"]`);D==null||D.focus({preventScroll:!0})}u(I)};switch(l.code){case"ArrowLeft":l.preventDefault(),y(n-1);break;case"ArrowRight":l.preventDefault(),y(n+1);break;case"Home":l.preventDefault(),y(1);break;case"End":l.preventDefault(),y(r);break}},children:a(n)})},n)),i.jsx("div",{children:i.jsx("div",{style:{paddingRight:_},children:w})})]},"pages")}if(p==="page-size"){const m=R.map(a=>({label:a.toString(),value:a}));return i.jsx("div",{children:i.jsx("div",{style:{paddingRight:_},children:i.jsx(Z,{list:m,model:x,size:b?"small":void 0,customItem:a=>t&&t.pageSize?t.pageSize(a.value):a.label,customSelected:a=>`${a.label}${g("Pagination"," / Page")}`,onModelChange:a=>{k.isNull(a)||q(a)}})})},"page-size")}if(p==="jump"){const m=(()=>{const a=i.jsx(ii.Number,{style:{width:b?48:72},model:N,max:r,min:1,step:1,size:b?"small":void 0,numberButton:!b,inputRender:w=>z.cloneElement(w,{onKeyDown:e=>{var n,l;(l=(n=w.props).onKeyDown)==null||l.call(n,e),e.code==="Enter"&&(e.preventDefault(),k.isNumber(N)&&u(N))}}),onModelChange:B});return t&&t.jump?t.jump(a):i.jsxs("div",{...s("pagination__jump"),children:[i.jsx("span",{children:g("Pagination","Go")}),a,i.jsx("span",{children:g("Pagination","Page")})]})})();return i.jsx("div",{children:i.jsx("div",{style:{paddingRight:_},children:m})},"jump")}return null})})})}export{pi as P};
