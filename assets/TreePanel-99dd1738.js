import{r as a,w as G,f as K,j as r,V as $,l as P,I as q,q as O,C as J,T as Q,m as V}from"./index-552cf36d.js";import{s as W}from"./scrollIntoViewIfNeeded-1a86a4ce.js";import{S as X}from"./arrow_right-8992738e.js";import{C as H}from"./Checkbox-267c7d9b.js";import{E as R}from"./Empty-8ec76c5e.js";const Y=u=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...u},a.createElement("path",{d:"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z"})),Z=u=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...u},a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 11h10v2H7z"}));function ie(u){const{ref:M,namespace:m,styled:i,list:S,itemId:b,itemSelected:I,itemFocused:t,expands:f,customItem:v,showLine:T,multiple:h,onlyLeafSelectable:A,disabled:B,virtual:o,focusVisible:C,onNodeFocus:x,onNodeExpand:g,onNodeClick:k,onScrollBottom:L,...w}=u,{t:U}=G(),l=a.useRef(null),c=a.useRef(null),N=K(e=>{var p,s,y,j,d,_;if(l.current){let n;if(t){const E=f.has(t.id);switch(e){case"next":n=(p=c.current)==null?void 0:p.scrollToStep(l.current,1);break;case"prev":n=(s=c.current)==null?void 0:s.scrollToStep(l.current,-1);break;case"first":n=(y=c.current)==null?void 0:y.scrollToStart(l.current);break;case"last":n=(j=c.current)==null?void 0:j.scrollToEnd(l.current);break;case"prev-level":!t.isLeaf&&E?g(t):t.parent&&(n=(d=c.current)==null?void 0:d.scrollToItem(l.current,t.parent.id));break;case"next-level":t.isLeaf||(E?n=(_=c.current)==null?void 0:_.scrollToNested(l.current):g(t));break;default:e instanceof HTMLElement&&l.current&&W(e,l.current);break}}return n}});a.useImperativeHandle(M,()=>N,[N]);const D=a.useMemo(()=>({list:S,itemKey:e=>e.id,itemSize:(o==null?void 0:o.itemSize)??32,itemEmptySize:32,itemNested:e=>e.children,itemFocusable:e=>e.enabled,itemExpand:e=>e.children?f.has(e.id):void 0}),[f,S,o]);return r.jsx($,{...D,ref:e=>(c.current=e,()=>{c.current=null}),enable:!P.isUndefined(o),listSize:(o==null?void 0:o.listSize)??0,listPadding:(o==null?void 0:o.listPadding)??0,itemRender:(e,p,s,y,j)=>{if(e.children){const d=f.has(e.id);let _=!1;if(e.children&&I){let n=I;for(;n.parent;)if(n=n.parent,n.id===e.id){_=!0;break}}return a.createElement("li",{...i("tree__group",{"tree__group--root":s["aria-level"]===1}),...s,key:e.id,role:"treeitem","aria-expanded":d,"aria-selected":e.checked,"aria-disabled":e.disabled},r.jsxs("div",{...i("tree__option",{"tree__option.is-selected":!h&&e.checked,"tree__option.is-disabled":e.disabled,"tree__option--root":s["aria-level"]===1,"tree__option--first":p===0}),id:b(e.id),title:e.origin.label,onClick:()=>{x(e),h||A?g(e):k(e)},children:[C&&(t==null?void 0:t.id)===e.id&&r.jsx("div",{className:`${m}-focus-outline`}),_&&r.jsx("div",{...i("tree__option-dot")}),r.jsx("div",{...i("tree__option-icon"),onClick:n=>{n.stopPropagation(),x(e),g(e)},children:r.jsx(q,{children:e.origin.loading?r.jsx(O,{}):T?d?r.jsx(Z,{}):r.jsx(Y,{}):r.jsx(X,{...i("tree__option-arrow",{"tree__option-arrow.is-expand":d})})})}),h&&r.jsx("div",{...i("tree__option-checkbox"),children:r.jsx(H,{model:e.checked,disabled:e.disabled,indeterminate:e.indeterminate,inputProps:{tabIndex:-1},onClick:n=>{n.stopPropagation(),x(e),k(e)}})}),r.jsx("div",{...i("tree__option-content"),children:v?v(e.origin):e.origin.label})]}),!e.origin.loading&&r.jsx(J,{height:0,enter:d,duration:Q,children:(n,E)=>r.jsx("ul",{...V(i("tree__group"),{style:{...E?{display:"none"}:void 0}}),ref:z=>(l.current=z,n(z),()=>{l.current=null,n(null)}),role:"group","aria-labelledby":b(e.id),children:j})}))}return a.createElement("li",{...i("tree__option",{"tree__option.is-selected":!h&&e.checked,"tree__option.is-disabled":e.disabled,"tree__option--root":s["aria-level"]===1,"tree__option--first":p===0}),...s,key:e.id,id:b(e.id),title:e.origin.label,role:"treeitem","aria-selected":e.checked,"aria-disabled":e.disabled,onClick:()=>{x(e),k(e)}},C&&(t==null?void 0:t.id)===e.id&&r.jsx("div",{className:`${m}-focus-outline`}),h&&r.jsx("div",{...i("tree__option-checkbox"),children:r.jsx(H,{model:e.checked,disabled:e.disabled,indeterminate:e.indeterminate,inputProps:{tabIndex:-1},onClick:d=>{d.stopPropagation(),x(e),k(e)}})}),r.jsx("div",{...i("tree__option-content"),children:v?v(e.origin):e.origin.label}))},itemFocused:t==null?void 0:t.id,itemEmptyRender:()=>r.jsx("li",{...i("tree__empty"),children:r.jsx("div",{...i("tree__option-content"),children:U("No data")})}),itemInAriaSetsize:e=>!e.children,placeholder:"li",onScrollEnd:L,children:(e,p)=>r.jsx("ul",{...w,...V(i("tree",{"tree.is-disabled":B,"tree--line":T}),{className:w.className,style:w.style}),ref:s=>(l.current=s,()=>{l.current=null}),role:"tree","aria-multiselectable":h,"aria-activedescendant":P.isUndefined(t)?void 0:b(t.id),onScroll:p,children:S.length===0?r.jsx(R,{style:{padding:"12px 28px"},image:R.SIMPLE_IMG}):e})})}export{ie as T};
