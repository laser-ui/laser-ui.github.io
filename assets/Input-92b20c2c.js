import{r as j,u as Y,b as Z,o as le,v as ee,z as ae,f as ce,c as Q,l as _,x as ne,i as pe,L as te,j as n,m as T,U,I as N}from"./index-40b015b6.js";import{u as ie}from"./useForkRef-fb6acea2.js";import{S as se}from"./cancel-ec520f89.js";import{S as de}from"./visibility-a7dcfd22.js";import{S as fe}from"./keyboard_arrow_down-27f36eca.js";import{B as ue}from"./BaseInput-759c6821.js";const me=g=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...g},j.createElement("path",{d:"M12 6a9.77 9.77 0 0 1 8.82 5.5 9.647 9.647 0 0 1-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68A11.738 11.738 0 0 0 1 11.5C2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02a2.5 2.5 0 0 1-2.5-2.5c0-.05.01-.08.01-.13zm-3.4-3.4 1.75 1.75a4.6 4.6 0 0 0-.36 1.78 4.507 4.507 0 0 0 6.27 4.14l.98.98c-.88.24-1.8.38-2.75.38a9.77 9.77 0 0 1-8.82-5.5c.7-1.43 1.72-2.61 2.93-3.53z"})),be=g=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...g},j.createElement("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})),oe={input:"^input","input.is-disabled":"is-disabled","input--small":"^input--small","input--medium":"^input--medium","input--large":"^input--large",input__prefix:"^input__prefix",input__input:"^input__input",input__clear:"^input__clear",input__password:"^input__password",input__suffix:"^input__suffix","input__number-container":"^input__number-container",input__number:"^input__number"};function he(g){const{styleOverrides:F,styleProvider:v,formControl:i,model:A,defaultModel:L,max:c,min:d,step:b=1,integer:y=!1,prefix:V,suffix:S,clearable:P,placeholder:O,size:K,numberButton:D=!0,disabled:C=!1,inputRef:$,inputRender:M,onModelChange:q,onClear:o,...s}=Y("InputNumber",g),p=Z(oe,{input:v==null?void 0:v.input},F),w=le(),{t:I}=ee(),R=ae(),r=j.useRef({inputFocused:!1}),h=j.useRef(null),G=ie(h,$),H=ce(()=>window),[x,B]=Q(L??null,A,q,void 0,i==null?void 0:i.control),f=r.current.inputFocused&&!_.isUndefined(r.current.inputValue)?r.current.inputValue:_.isNull(x)?"":x.toString(),m=e=>{(_.isNull(e)?"":e.toString())!==f&&R(),r.current.inputValue=void 0,B(e)},{size:u,disabled:l}=ne({size:K,disabled:C||(i==null?void 0:i.control.disabled)}),z=e=>{var t;return Number(Math.max(d??-1/0,Math.min(c??1/0,e)).toFixed(((t=b.toString().split(".")[1])==null?void 0:t.length)??0))},k=(e=!0)=>{m(z((()=>{let a=f.length>0?Number(f):null;return _.isNull(a)?0:(y&&!Number.isInteger(a)&&(a=Math.round(a)),e?a+b:a-b)})()));const t=a=>{const E=z(e?a+b:a-b);m(E),r.current.clearLoop=w.setTimeout(()=>t(E),50)};r.current.clearTid=w.setTimeout(()=>t(Number(f)),400)},J=()=>{var e,t,a,E;(t=(e=r.current).clearLoop)==null||t.call(e),(E=(a=r.current).clearTid)==null||E.call(a)};pe(H,"mouseup",J);const W=e=>{document.activeElement===h.current&&e.target!==h.current&&e.button===0&&e.preventDefault()},re=te({compose:{disabled:l},form:i}),X=n.jsx(ue,{...p("input__input"),...i==null?void 0:i.inputAria,ref:G,value:f,max:c,min:d,step:b,type:"number",placeholder:O,disabled:l,onValueChange:e=>{if(R(),r.current.inputValue=e,e.length===0)m(null);else{const t=Number(e);(_.isUndefined(c)||t<=c)&&(_.isUndefined(d)||t>=d)&&(!y||Number.isInteger(t))&&m(t)}},onFocus:()=>{r.current.inputFocused=!0,r.current.inputValue=void 0},onBlur:()=>{if(r.current.inputFocused=!1,f.length===0)m(null);else{let e=Number(f);!_.isUndefined(c)&&e>c&&(e=c),!_.isUndefined(d)&&e<d&&(e=d),y&&!Number.isInteger(e)&&(e=Math.round(e)),m(e)}}});return n.jsxs("div",{...s,...T(p("input",`input--${u}`,{"input.is-disabled":l}),{className:s.className,style:{...s.style,paddingRight:D&&!l&&!U(S)?0:void 0}}),...re,onMouseDown:e=>{var t;(t=s.onMouseDown)==null||t.call(s,e),W(e)},onMouseUp:e=>{var t;(t=s.onMouseUp)==null||t.call(s,e),W(e)},onClick:e=>{var t,a;(t=s.onClick)==null||t.call(s,e),(a=h.current)==null||a.focus({preventScroll:!0})},children:[U(V)&&n.jsx("div",{...p("input__prefix"),children:V}),M?M(X):X,P&&!l&&n.jsx("div",{...T(p("input__clear"),{style:{opacity:f.length>0?1:0}}),role:"button","aria-label":I("Clear"),onClick:()=>{m(null),o==null||o()},children:n.jsx(N,{children:n.jsx(se,{})})}),D&&!l&&n.jsxs("div",{...p("input__number-container"),children:[n.jsx("div",{...p("input__number"),role:"button","aria-label":I("Input","Increase number"),onMouseDown:e=>{e.button===0&&k()},onTouchStart:()=>{k()},onTouchEnd:()=>{J()},children:n.jsx(N,{children:n.jsx(be,{})})}),n.jsx("div",{...p("input__number"),role:"button","aria-label":I("Input","Decrease number"),onMouseDown:e=>{e.button===0&&k(!1)},onTouchStart:()=>{k(!1)},onTouchEnd:()=>{J()},children:n.jsx(N,{children:n.jsx(fe,{})})})]}),U(S)&&n.jsx("div",{...p("input__suffix"),children:S})]})}const xe=g=>{const{styleOverrides:F,styleProvider:v,formControl:i,model:A,defaultModel:L,type:c,prefix:d,suffix:b,password:y,defaultPassword:V,clearable:S,placeholder:P,size:O,disabled:K=!1,inputRef:D,inputRender:C,onModelChange:$,onClear:M,onPasswordChange:q,...o}=Y("Input",g),s=Z(oe,{input:v==null?void 0:v.input},F),{t:p}=ee(),w=j.useRef(null),I=ie(w,D),[R,r]=Q(L??"",A,$,void 0,i==null?void 0:i.control),[h,G]=Q(V??!0,y,q),{size:H,disabled:x}=ne({size:O,disabled:K||(i==null?void 0:i.control.disabled)}),B=u=>{document.activeElement===w.current&&u.target!==w.current&&u.button===0&&u.preventDefault()},f=te({compose:{disabled:x},form:i}),m=n.jsx(ue,{...s("input__input"),...i==null?void 0:i.inputAria,ref:I,value:R,type:c==="password"?h?"password":"text":c,placeholder:P,disabled:x,onValueChange:u=>{r(u)}});return n.jsxs("div",{...o,...T(s("input",`input--${H}`,{"input.is-disabled":x}),{className:o.className,style:o.style}),...f,onMouseDown:u=>{var l;(l=o.onMouseDown)==null||l.call(o,u),B(u)},onMouseUp:u=>{var l;(l=o.onMouseUp)==null||l.call(o,u),B(u)},onClick:u=>{var l,z;(l=o.onClick)==null||l.call(o,u),(z=w.current)==null||z.focus({preventScroll:!0})},children:[U(d)&&n.jsx("div",{...s("input__prefix"),children:d}),C?C(m):m,S&&!x&&n.jsx("div",{...T(s("input__clear"),{style:{opacity:R.length>0?1:0}}),role:"button","aria-label":p("Clear"),onClick:()=>{r(""),M==null||M()},children:n.jsx(N,{children:n.jsx(se,{})})}),c==="password"&&!x&&n.jsx("div",{...s("input__password"),role:"button","aria-label":p("Input",h?"Password is not visible":"Password is visible"),onClick:()=>{G(u=>!u)},children:h?n.jsx(N,{children:n.jsx(me,{})}):n.jsx(N,{children:n.jsx(de,{})})}),U(b)&&n.jsx("div",{...s("input__suffix"),children:b})]})};xe.Number=he;export{xe as I};
