import{r as i,u as g,b as v,j as a,m as C,I as h,q as R,a as N,d as w,e as A,g as I,s as L,i as $,t as z,k as O,T as P,l as y,c as V}from"./index-e6a75c1e.js";import{s as M}from"./scrollTo-49253e74.js";import{t as U}from"./toPx-1d136f40.js";import{s as D}from"./setRef-e83d734d.js";import{S as q}from"./add-784363c6.js";const G=u=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...u},i.createElement("path",{d:"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"})),H={fab:"^fab",fab__actions:"^fab__actions","fab__actions--top":"^fab__actions--top","fab__actions--right":"^fab__actions--right","fab__actions--bottom":"^fab__actions--bottom","fab__actions--left":"^fab__actions--left"},J={"fab-button":"^fab-button","fab-button.t-primary":"t-primary","fab-button.t-success":"t-success","fab-button.t-warning":"t-warning","fab-button.t-danger":"t-danger","fab-button.is-expand":"is-expand","fab-button.is-loading":"is-loading","fab-button--in-actions":"^fab-button--in-actions","fab-button--primary":"^fab-button--primary","fab-button--secondary":"^fab-button--secondary","fab-button--outline":"^fab-button--outline","fab-button--dashed":"^fab-button--dashed","fab-button--text":"^fab-button--text","fab-button--link":"^fab-button--link","fab-button--circle":"^fab-button--circle","fab-button--round":"^fab-button--round","fab-button__icon":"^fab-button__icon","fab-button__content":"^fab-button__content"},j=i.createContext(void 0),k=i.createContext(void 0),S=i.createContext(void 0);function E(u){const{ref:x,children:_,styleOverrides:c,styleProvider:l,pattern:m="primary",theme:d="primary",loading:p=!1,shape:f,...t}=g("FabButton",u),s=v(J,{"fab-button":l==null?void 0:l["fab-button"]},c),r=i.use(j),o=i.use(k),n=i.use(S);return a.jsxs("button",{...t,...C(s("fab-button",`fab-button.t-${d}`,`fab-button--${m}`,{"fab-button.is-expand":r&&r.expand,"fab-button.is-loading":p,"fab-button--in-actions":o,[`fab-button--${f}`]:f}),{className:t.className,style:{...t.style,...o?{animationDelay:`${o.index*33}ms`}:void 0,...n&&n.leaved?{display:"none"}:void 0}}),ref:e=>{const b=D(x,e);return n&&n.ref(e),()=>{b(),n&&n.ref(null)}},type:t.type??"button",onClick:e=>{var b;(b=t.onClick)==null||b.call(t,e),r&&r.onClick(),o&&o.onClick(),n&&n.onClick()},children:[a.jsx(h,{...s("fab-button__icon"),children:a.jsx(q,{})}),a.jsx("div",{...s("fab-button__content"),children:p?a.jsx(h,{children:a.jsx(R,{})}):_})]})}function K(u){const{children:x,page:_,distance:c=400,scrollBehavior:l="instant",...m}=g("FabBacktop",u),d=N(),{pageScrollRef:p,contentResizeRef:f}=w(),t=A(_??(()=>p.current)),s=i.useRef(()=>{}),[r,o]=i.useState(!1),n=()=>{if(t.current){const e=y.isString(c)?U(c,!0):c;o(Math.ceil(t.current.scrollTop)>=e)}};return I(()=>{n()},[]),L(t,"scroll",n,{passive:!0}),$(f,n),z(()=>{s.current()}),a.jsx(O,{enter:r,name:`${d}-fade`,duration:P,children:(e,b)=>a.jsx(S,{value:{ref:e,leaved:b,onClick:()=>{t.current&&(s.current(),s.current=M(t.current,{top:0,behavior:l}))}},children:a.jsx(E,{...m,children:x??a.jsx(h,{children:a.jsx(G,{})})})})})}const B=u=>{const{children:x,styleOverrides:_,styleProvider:c,expand:l,defaultExpand:m,list:d,onExpandChange:p,...f}=g("Fab",u),t=v(H,{fab:c==null?void 0:c.fab},_),[s,r]=V(m??!1,l,p);return a.jsxs("div",{...f,...C(t("fab"),{className:f.className,style:f.style}),children:[a.jsx(j,{value:{expand:s,onClick:()=>{d&&r(o=>!o)}},children:x}),s&&d&&d.map(({placement:o,actions:n})=>a.jsx("div",{...t("fab__actions",`fab__actions--${o}`),children:n.map((e,b)=>{const{id:T,action:F}=y.has(e,["id","action"])?e:{id:b,action:e};return a.jsx(k,{value:{index:b,onClick:()=>{r(!1)}},children:F},T)})},o))]})};B.Button=E;B.Backtop=K;export{B as F};
