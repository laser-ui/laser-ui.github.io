import{d as st,u as rt,b as lt,x as pt,r as H,c as J,m as ct,j as t,I as P,E as ut,l as Q}from"./index-43a12276.js";import{S as gt}from"./keyboard_arrow_left-038a7600.js";import{S as dt,a as mt}from"./keyboard_double_arrow_right-8c90bf03.js";import{S as U}from"./Route-a8874bc5.js";import{S as _t}from"./Select-4eb22a6e.js";import{I as bt}from"./Input-73c719d0.js";function D(u,n=!1){return{tabIndex:n?-1:0,role:"button","aria-disabled":n,onKeyDown:w=>{(w.code==="Enter"||w.code==="Space")&&(w.preventDefault(),u())},onClick:u}}const jt={pagination:"^pagination","pagination--mini":"^pagination--mini",pagination__row:"^pagination__row",pagination__jump:"^pagination__jump",pagination__button:"^pagination__button","pagination__button.is-active":"is-active","pagination__button.is-disabled":"is-disabled","pagination__button--border":"^pagination__button--border","pagination__button--number":"^pagination__button--number","pagination__button--jump5":"^pagination__button--jump5","pagination__jump5-icon":"^pagination__jump5-icon",pagination__ellipsis:"^pagination__ellipsis"};function zt(u){const n=st.c(13),{styleOverrides:w,styleProvider:E,total:y,active:W,defaultActive:X,pageSize:Y,defaultPageSize:Z,pageSizeList:T,compose:V,customRender:i,mini:q,onChange:j,...x}=rt("Pagination",u),B=T===void 0?[10,20,50,100]:T,F=V===void 0?["pages"]:V,h=q===void 0?!1:q,I=E==null?void 0:E.pagination;let A;n[0]!==I?(A={pagination:I},n[0]=I,n[1]=A):A=n[1];const s=lt(jt,A,w),{t:c}=pt(),M=H.useRef(null),[o,tt]=J(X??1,W),g=l=>{const d=Math.max(Math.min(l,p),1);tt(d),Object.is(d,o)||j==null||j(d,f)},[nt,it]=J(Z??B[0],Y),f=nt,et=l=>{it(l);const d=Math.max(Math.ceil(y/l),1),m=Math.max(Math.min(o,d),1);(!Object.is(m,o)||!Object.is(l,f))&&(j==null||j(m,l))},[K,at]=H.useState(null),p=Math.max(Math.ceil(y/f),1),$=ct(s("pagination",{"pagination--mini":h}),{className:x.className,style:x.style}),k=l=>(M.current=l,()=>{M.current=null}),ot="navigation",L=x["aria-label"]??"Pagination Navigation";let v;n[2]!==s?(v=s("pagination__row"),n[2]=s,n[3]=v):v=n[3];const C=F.map((l,d)=>{const m=d===F.length-1?void 0:h?2:6;if(l==="total"){const _=(()=>{const r=[Math.min((o-1)*f+1,y),Math.min(o*f,y)];return i&&i.total?i.total(r):`${c("Pagination","Total")} ${y} ${c("Pagination","items")}`})();return t.jsx("div",{children:t.jsx("div",{style:{paddingRight:m},children:_})},"total")}if(l==="pages"){const[_,r,b]=[t.jsx("li",{...s("pagination__button",{"pagination__button.is-disabled":o===1,"pagination__button--border":!(i&&i.prev)}),...D(()=>{g(o-1)},o===1),title:c("Pagination","Previous page"),children:i&&i.prev?i.prev:t.jsx(P,{children:t.jsx(gt,{})})}),e=>i&&i.page?i.page(e):t.jsx("div",{children:e}),t.jsx("li",{...s("pagination__button",{"pagination__button.is-disabled":o===p,"pagination__button--border":!(i&&i.next)}),...D(()=>{g(o+1)},o===p),title:c("Pagination","Next page"),children:i&&i.next?i.next:t.jsx(P,{children:t.jsx(ut,{})})})];let a=[];if(p<=7)a=Array.from({length:p}).map(ht);else{for(let e=-3;e<=3;e++)a.push(o+e);a[0]<1&&(a=a.map(e=>e+(1-a[0]))),a[6]>p&&(a=a.map(e=>e-(a[6]-p))),a[0]>1&&(a[0]=1,a[1]="prev5"),a[6]<p&&(a[6]=p,a[5]="next5")}return t.jsxs(H.Fragment,{children:[t.jsx("div",{children:_}),a.map(e=>e==="prev5"?t.jsx("div",{children:t.jsxs("li",{...s("pagination__button","pagination__button--jump5"),...D(()=>{g(o-5)}),title:c("Pagination","5 pages forward"),children:[t.jsx(P,{...s("pagination__jump5-icon"),children:t.jsx(dt,{})}),t.jsx("div",{...s("pagination__ellipsis"),children:t.jsx(P,{children:t.jsx(U,{})})})]})},"prev5"):e==="next5"?t.jsx("div",{children:t.jsxs("li",{...s("pagination__button","pagination__button--jump5"),...D(()=>{g(o+5)}),title:c("Pagination","5 pages backward"),children:[t.jsx(P,{...s("pagination__jump5-icon"),children:t.jsx(mt,{})}),t.jsx("div",{...s("pagination__ellipsis"),children:t.jsx(P,{children:t.jsx(U,{})})})]})},"next5"):t.jsx("div",{children:t.jsx("li",{...s("pagination__button","pagination__button--border","pagination__button--number",{"pagination__button.is-active":o===e}),tabIndex:0,"data-number":e,onClick:()=>{g(e)},onKeyDown:z=>{const R=G=>{if(M.current){const O=M.current.querySelector(`li[data-number="${G}"]`);O==null||O.focus({preventScroll:!0})}g(G)};t:switch(z.code){case"ArrowLeft":{z.preventDefault(),R(e-1);break t}case"ArrowRight":{z.preventDefault(),R(e+1);break t}case"Home":{z.preventDefault(),R(1);break t}case"End":{z.preventDefault(),R(p);break t}}},children:r(e)})},e)),t.jsx("div",{children:t.jsx("div",{style:{paddingRight:m},children:b})})]},"pages")}if(l==="page-size"){const _=B.map(xt);return t.jsx("div",{children:t.jsx("div",{style:{paddingRight:m},children:t.jsx(_t,{list:_,model:f,size:h?"small":void 0,customItem:r=>i&&i.pageSize?i.pageSize(r.value):r.label,customSelected:(r,b)=>b?`${b.label}${c("Pagination"," / Page")}`:String(r),onModelChange:r=>{Q.isNull(r)||et(r)}})})},"page-size")}if(l==="jump"){const _=(()=>{const r=t.jsx(bt.Number,{style:{width:h?48:72},model:K,max:p,min:1,step:1,size:h?"small":void 0,numberButton:!h,inputProps:{onKeyDown:b=>{b.code==="Enter"&&(b.preventDefault(),Q.isNumber(K)&&g(K))}},onModelChange:at});return i&&i.jump?i.jump(r):t.jsxs("div",{...s("pagination__jump"),children:[t.jsx("span",{children:c("Pagination","Go")}),r,t.jsx("span",{children:c("Pagination","Page")})]})})();return t.jsx("div",{children:t.jsx("div",{style:{paddingRight:m},children:_})},"jump")}return null});let S;n[4]!==v||n[5]!==C?(S=t.jsx("div",{...v,children:C}),n[4]=v,n[5]=C,n[6]=S):S=n[6];let N;return n[7]!==x||n[8]!==S||n[9]!==$||n[10]!==k||n[11]!==L?(N=t.jsx("nav",{...x,...$,ref:k,role:ot,"aria-label":L,children:S}),n[7]=x,n[8]=S,n[9]=$,n[10]=k,n[11]=L,n[12]=N):N=n[12],N}function xt(u){return{label:u.toString(),value:u}}function ht(u,n){return n+1}export{zt as P};
