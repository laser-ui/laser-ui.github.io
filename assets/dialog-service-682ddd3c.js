import{a8 as l}from"./index-99cdb417.js";let g=0;class o{static open(i,e,t){const s=t??++g;return l.set("dialogs",a=>{a.push({key:s,type:i,props:{...e,visible:!0,skipFirstTransition:!1,onClose:()=>{var n;(n=e.onClose)==null||n.call(e),o.close(s)},afterVisibleChange:n=>{var c;if((c=e.afterVisibleChange)==null||c.call(e,n),!n){const f=l.get("dialogs").findIndex(d=>d.key===s);f!==-1&&l.set("dialogs",d=>{d.splice(f,1)})}}}})}),{key:s,close:()=>{o.close(s)},rerender:a=>{o.rerender(s,i,a)}}}static close(i){const e=l.get("dialogs").findIndex(t=>t.key===i);e!==-1&&l.set("dialogs",t=>{t[e].props.visible=!1})}static rerender(i,e,t){const s=l.get("dialogs").findIndex(a=>a.key===i);s!==-1&&l.set("dialogs",a=>{a.splice(s,1,{key:i,type:e,props:Object.assign(a[s].props,t)})})}static closeAll(i=!0){i?l.set("dialogs",e=>{e.forEach(t=>{t.props.visible=!1})}):l.set("dialogs",[])}}export{o as D};
