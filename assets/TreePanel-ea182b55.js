import{r as o,v as U,g as G,A as K,j as i,l as R,I as q,q as O,C as J,T as y,m as P}from"./index-ed674f00.js";import{S as Q}from"./arrow_right-32634fff.js";import{V as W}from"./VirtualScroll-712378ac.js";import{C as V}from"./Checkbox-07534996.js";import{E as H}from"./Empty-f1c7301a.js";const X=g=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...g},o.createElement("path",{d:"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z"})),Y=g=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...g},o.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 11h10v2H7z"}));function Z(g,A){const{namespace:I,styled:t,list:E,itemId:u,itemSelected:T,itemFocused:n,expands:f,customItem:b,showLine:C,multiple:h,onlyLeafSelectable:M,disabled:B,virtual:s,focusVisible:z,onNodeFocus:x,onNodeExpand:v,onNodeClick:j,onScrollBottom:L,...S}=g,{t:$}=U(),a=o.useRef(null),c=o.useRef(null),N=G(e=>{var p,d,w,k,l,_;if(a.current){let r;if(n){const m=f.has(n.id);switch(e){case"next":r=(p=c.current)==null?void 0:p.scrollToStep(a.current,1);break;case"prev":r=(d=c.current)==null?void 0:d.scrollToStep(a.current,-1);break;case"first":r=(w=c.current)==null?void 0:w.scrollToStart(a.current);break;case"last":r=(k=c.current)==null?void 0:k.scrollToEnd(a.current);break;case"prev-level":!n.isLeaf&&m?v(n):n.parent&&(r=(l=c.current)==null?void 0:l.scrollToItem(a.current,n.parent.id));break;case"next-level":n.isLeaf||(m?r=(_=c.current)==null?void 0:_.scrollToNested(a.current):v(n));break;default:e instanceof HTMLElement&&a.current&&K(e,a.current);break}}return r}});o.useImperativeHandle(A,()=>N,[N]);const D=o.useMemo(()=>({list:E,itemKey:e=>e.id,itemSize:(s==null?void 0:s.itemSize)??32,itemEmptySize:32,itemNested:e=>e.children,itemFocusable:e=>e.enabled,itemExpand:e=>e.children?f.has(e.id):void 0}),[f,E,s]);return i.jsx(W,{...D,ref:c,enable:!R.isUndefined(s),listSize:(s==null?void 0:s.listSize)??0,listPadding:(s==null?void 0:s.listPadding)??0,itemRender:(e,p,d,w,k)=>{if(e.children){const l=f.has(e.id);let _=!1;if(e.children&&T){let r=T;for(;r.parent;)if(r=r.parent,r.id===e.id){_=!0;break}}return o.createElement("li",{...t("tree__group",{"tree__group--root":d["aria-level"]===1}),...d,key:e.id,role:"treeitem","aria-expanded":l,"aria-selected":e.checked,"aria-disabled":e.disabled},i.jsxs("div",{...t("tree__option",{"tree__option.is-selected":!h&&e.checked,"tree__option.is-disabled":e.disabled,"tree__option--root":d["aria-level"]===1,"tree__option--first":p===0}),id:u(e.id),title:e.origin.label,onClick:()=>{x(e),h||M?v(e):j(e)},children:[z&&(n==null?void 0:n.id)===e.id&&i.jsx("div",{className:`${I}-focus-outline`}),_&&i.jsx("div",{...t("tree__option-dot")}),i.jsx("div",{...t("tree__option-icon"),onClick:r=>{r.stopPropagation(),x(e),v(e)},children:i.jsx(q,{children:e.origin.loading?i.jsx(O,{}):C?l?i.jsx(Y,{}):i.jsx(X,{}):i.jsx(Q,{...t("tree__option-arrow",{"tree__option-arrow.is-expand":l})})})}),h&&i.jsx("div",{...t("tree__option-checkbox"),children:i.jsx(V,{model:e.checked,disabled:e.disabled,indeterminate:e.indeterminate,inputRender:r=>o.cloneElement(r,{tabIndex:-1}),onClick:r=>{r.stopPropagation(),x(e),j(e)}})}),i.jsx("div",{...t("tree__option-content"),children:b?b(e.origin):e.origin.label})]}),!e.origin.loading&&i.jsx(J,{originalSize:{height:"auto"},collapsedSize:{height:0},enter:l,during:y,styles:{entering:{transition:["height","padding","margin"].map(r=>`${r} ${y}ms ease-out`).join(", ")},leaving:{transition:["height","padding","margin"].map(r=>`${r} ${y}ms ease-in`).join(", ")},leaved:{display:"none"}},children:(r,m)=>i.jsx("ul",{...P(t("tree__group"),{style:m}),ref:r,role:"group","aria-labelledby":u(e.id),children:k})}))}return o.createElement("li",{...t("tree__option",{"tree__option.is-selected":!h&&e.checked,"tree__option.is-disabled":e.disabled,"tree__option--root":d["aria-level"]===1,"tree__option--first":p===0}),...d,key:e.id,id:u(e.id),title:e.origin.label,role:"treeitem","aria-selected":e.checked,"aria-disabled":e.disabled,onClick:()=>{x(e),j(e)}},z&&(n==null?void 0:n.id)===e.id&&i.jsx("div",{className:`${I}-focus-outline`}),h&&i.jsx("div",{...t("tree__option-checkbox"),children:i.jsx(V,{model:e.checked,disabled:e.disabled,indeterminate:e.indeterminate,inputRender:l=>o.cloneElement(l,{tabIndex:-1}),onClick:l=>{l.stopPropagation(),x(e),j(e)}})}),i.jsx("div",{...t("tree__option-content"),children:b?b(e.origin):e.origin.label}))},itemFocused:n==null?void 0:n.id,itemEmptyRender:()=>i.jsx("li",{...t("tree__empty"),children:i.jsx("div",{...t("tree__option-content"),children:$("No Data")})}),itemInAriaSetsize:e=>!e.children,placeholder:"li",onScrollEnd:L,children:(e,p)=>i.jsx("ul",{...S,...P(t("tree",{"tree.is-disabled":B,"tree--line":C}),{className:S.className,style:S.style}),ref:a,role:"tree","aria-multiselectable":h,"aria-activedescendant":R.isUndefined(n)?void 0:u(n.id),onScroll:p,children:E.length===0?i.jsx(H,{style:{padding:"12px 28px"},image:H.SIMPLE_IMG}):e})})}const te=o.forwardRef(Z);export{te as T};
