import{u as g,b as N,r as i,l as n,j as l,m as p}from"./index-2f96817f.js";import{t as S}from"./toPx-46359aaa.js";const $={avatar:"^avatar","avatar--img":"^avatar--img","avatar--icon":"^avatar--icon","avatar--text":"^avatar--text","avatar--circle":"^avatar--circle","avatar--square":"^avatar--square",avatar__img:"^avatar__img"};function b(f){const{styleOverrides:h,styleProvider:c,shape:d="circle",img:a,icon:v,text:u,size:t=40,...o}=g("Avatar",f),m=N($,{avatar:c==null?void 0:c.avatar},h),r=i.useRef(null),[y,E]=i.useState(!1),e=a&&!y?"img":v?"icon":u?"text":"img";return i.useEffect(()=>{if(r.current){const s=Math.sqrt(Math.pow((n.isNumber(t)?t:S(t,!0))/2,2)-Math.pow(r.current.scrollHeight/2,2))*2;r.current.scrollWidth>s?r.current.style.transform=`scale(${s/r.current.scrollWidth})`:r.current.style.transform=""}}),l.jsx("div",{...o,...p(m("avatar",`avatar--${e}`,`avatar--${d}`),{className:o.className,style:{...o.style,width:t,height:t,fontSize:e==="icon"?`calc((${t}${n.isNumber(t)?"px":""} / 2) * 1.25)`:e==="text"?`calc(${t}${n.isNumber(t)?"px":""} / 2)`:void 0}}),children:e==="img"?l.jsx("img",{...a,...p(m("avatar__img"),{className:a==null?void 0:a.className,style:a==null?void 0:a.style}),onError:s=>{var x;(x=a==null?void 0:a.onError)==null||x.call(a,s),E(!0)}}):e==="icon"?v:l.jsx("div",{ref:r,children:u})})}export{b as A};
